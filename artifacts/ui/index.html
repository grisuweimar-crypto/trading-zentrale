<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="build-sha" content="local"/>
  <title>Scanner_vNext â€” Research Dashboard</title>
  <style>
    :root {
      --bg: #0b0f14;
      --card: #111827;
      --muted: #94a3b8;
      --text: #e5e7eb;
      --accent: #60a5fa;
      --good: #34d399;
      --warn: #fbbf24;
      --bad: #fb7185;
      --chip: #1f2937;
      --border: #243244;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      --w-ticker: 110px;
      --w-name: 220px;
      --w-price: 130px;
      --w-score: 170px;
      --w-conf: 70px;
      --w-cycle: 70px;
      --w-trend: 70px;
      --w-liq: 70px;
      --w-status: 120px;
      --w-class: 80px;
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: var(--sans); background: var(--bg); color: var(--text); }
    header { padding: 16px 18px; border-bottom: 1px solid var(--border); background: rgba(17,24,39,.55); backdrop-filter: blur(8px); position: sticky; top: 0; z-index: 50; }
    .title { display: flex; align-items: baseline; gap: 12px; flex-wrap: wrap; }
    .title h1 { margin: 0; font-size: 18px; font-weight: 700; }
    .meta { color: var(--muted); font-family: var(--mono); font-size: 12px; }
    .helpLink { color: var(--accent); text-decoration: none; }
    .helpLink:hover { text-decoration: underline; }

    .wrap { max-width: 1680px; margin: 0 auto; padding: 18px; }
    .panel { background: var(--card); border: 1px solid var(--border); border-radius: 14px; box-shadow: var(--shadow); }

    /* Briefing box (passive text; must not influence scoring) */
    .briefingBox { border: 1px solid rgba(148,163,184,.15); background: rgba(15,23,42,.35); border-radius: 12px; padding: 10px; }
    .briefHead { display:flex; align-items:center; justify-content: space-between; gap: 10px; margin-bottom: 6px; }
    .briefingBox .muted { margin-bottom: 8px; }
    .briefingText { margin: 0; padding: 10px; border-radius: 10px; border: 1px solid rgba(148,163,184,.12); background: rgba(15,23,42,.55); white-space: pre-wrap; max-height: 300px; overflow: auto; font-family: inherit; line-height: 1.55; font-size: 10px; }
    @media (min-width: 980px) { .briefingText { max-height: 520px; } }

    /* Briefing: Newlines + Bullets IMMER erhalten */
    #briefingText, #briefingBody, .briefing-body, [data-briefing] {
      white-space: pre-wrap;
      overflow-wrap: anywhere;
      word-break: break-word;
      line-height: 1.35;
    }

    /* Bullet-Styles bombensicher machen */
    .briefingText ul { margin: 6px 0 10px 18px; padding-left: 14px; list-style: disc; }
    .briefingText li { margin: 4px 0; }
    .briefing-asset { margin: 10px 0 6px; font-weight: 700; }
    .briefing-label { margin: 10px 0 6px; opacity: .9; font-weight: 700; }

    /* Mobile: Panels/Drawer/Modals dÃ¼rfen nicht Ã¼ber den Viewport schieÃŸen */
    * { box-sizing: border-box; }
    html, body { max-width: 100%; overflow-x: hidden; }

    @media (max-width: 680px) {
      .modal, .drawer, .panel, dialog, [role="dialog"] {
        width: 96vw !important;
        max-width: 96vw !important;
      }
    }

    .controls { display: grid; grid-template-columns: 220px 1fr 220px 220px auto; gap: 12px; padding: 14px; align-items: center; }
    .controls label { font-size: 12px; color: var(--muted); }
    select, input { width: 100%; background: #0f172a; border: 1px solid var(--border); color: var(--text); padding: 10px 12px; border-radius: 10px; outline: none; }
    input::placeholder { color: #64748b; }
    .count { justify-self: end; color: var(--muted); font-size: 12px; font-family: var(--mono); }

    .kpis { padding: 0 14px 10px 14px; display:flex; flex-wrap: wrap; gap: 6px; align-items: center; }
    .kpis .label { color: var(--muted); font-size: 12px; font-family: var(--mono); margin-right: 4px; }

.clusters { padding: 0 14px 10px 14px; display:flex; flex-wrap: wrap; gap: 6px; align-items: center; }
.clusters .label { color: var(--muted); font-size: 12px; font-family: var(--mono); margin-right: 4px; }
.clusters .chip { padding: 2px 6px; font-size: 10px; line-height: 1.1; }

.pillars { padding: 0 14px 10px 14px; display:flex; flex-wrap: wrap; gap: 6px; align-items: center; }
.pillars .label { color: var(--muted); font-size: 12px; font-family: var(--mono); margin-right: 4px; }
.pillars .chip { padding: 2px 6px; font-size: 10px; line-height: 1.1; }

.disclaimer {
  margin: 0 0 12px 0;
  padding: 10px 14px;
  border: 1px solid rgba(251,191,36,.35);
  background: rgba(251,191,36,.08);
  border-radius: 14px;
  display:flex;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
}
.disclaimer b { font-weight: 800; }
.disclaimer .txt { color: rgba(226,232,240,.95); line-height: 1.35; font-size: 13px; }
.disclaimer .btn { white-space: nowrap; }
@media (max-width: 860px) {
  .disclaimer { flex-direction: column; align-items: flex-start; }
}

    .filters { display:flex; gap: 8px; flex-wrap: wrap; align-items: center; padding: 0 14px 14px 14px; }
    .fbtn { background: #0f172a; border: 1px solid var(--border); color: var(--text); padding: 6px 10px; border-radius: 999px; cursor: pointer; font-size: 12px; }
    .fbtn:hover { border-color: rgba(96,165,250,.45); }
    .fbtn.active { border-color: rgba(96,165,250,.60); box-shadow: 0 0 0 2px rgba(96,165,250,.14) inset; }
    .fsep { flex: 1; }
    .hintbtn { margin-left: 10px; color: var(--muted); font-size: 12px; display:inline-flex; align-items:center; gap:6px; cursor: pointer; user-select:none; border: 1px solid rgba(148,163,184,.20); background: rgba(148,163,184,.06); padding: 6px 10px; border-radius: 999px; }
    .hintbtn:hover { border-color: rgba(148,163,184,.35); }
    .hintbtn .i { width: 18px; height: 18px; display:inline-flex; align-items:center; justify-content:center; border-radius: 999px; border: 1px solid rgba(148,163,184,.20); background: rgba(148,163,184,.08); font-weight: 700; font-size: 12px; color: #cbd5e1; }

    .popover { position: absolute; z-index: 60; min-width: 280px; max-width: 420px; padding: 12px 12px; border-radius: 14px; border: 1px solid rgba(255,255,255,.12); background: rgba(15,23,42,.98); box-shadow: 0 20px 60px rgba(0,0,0,.55); color: var(--text); display:none; }
    .popover.show { display:block; }
    .popover .title { font-weight: 700; margin-bottom: 6px; }
    .popover .close { float:right; }
    .popover ul { margin: 8px 0 0 16px; padding: 0; }
    .popover li { margin: 6px 0; color: var(--muted); }

    a.yf { color: var(--text); text-decoration: none; border-bottom: 1px solid rgba(96,165,250,.22); }
    a.yf:hover { color: #bfdbfe; border-bottom-color: rgba(96,165,250,.60); }

    table { border-collapse: collapse; }
    .table-wrap { overflow: auto; max-height: 72vh; }
    #tbl { table-layout: fixed; width: max-content; min-width: 100%; }
    #tbl col.col-ticker { width: var(--w-ticker); }
    #tbl col.col-name   { width: var(--w-name); }
    #tbl col.col-price  { width: var(--w-price); }
    #tbl col.col-score  { width: var(--w-score); }
    #tbl col.col-conf   { width: var(--w-conf); }
    #tbl col.col-cycle  { width: var(--w-cycle); }
    #tbl col.col-trend  { width: var(--w-trend); }
    #tbl col.col-liq    { width: var(--w-liq); }
    #tbl col.col-status { width: var(--w-status); }
    #tbl col.col-class  { width: var(--w-class); }

    /* Sticky first columns (Ticker + Name) inside the scroll container */
    #tbl thead th:nth-child(1),
    #tbl tbody td:nth-child(1) { position: sticky; left: 0; z-index: 6; }
    #tbl thead th:nth-child(2),
    #tbl tbody td:nth-child(2) { position: sticky; left: var(--w-ticker); z-index: 5; }

    /* Ensure sticky cells are opaque */
    #tbl thead th:nth-child(1),
    #tbl thead th:nth-child(2) { z-index: 12; }
    #tbl tbody td:nth-child(1),
    #tbl tbody td:nth-child(2) { background: rgba(11,15,20,.96); }

    /* Sticky text columns: allow 2 lines, but ellipsis on the main line */
    #tbl th:nth-child(1), #tbl th:nth-child(2) { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    #tbl td:nth-child(1), #tbl td:nth-child(2) { overflow: hidden; }
    .tickerMain, .row-title .name { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    /* Table header is sticky *inside the table scroll container* (not the whole page).
       Therefore top should be 0, otherwise it will "float" too low and hide the first row. */
    thead th { position: sticky; top: 0; background: #0f172a; border-bottom: 1px solid var(--border); border-right: 1px solid rgba(36,50,68,.45); padding: 10px 10px; text-align: left; font-size: 12px; color: #cbd5e1; cursor: pointer; user-select: none; }
    tbody td { border-bottom: 1px solid rgba(36,50,68,.55); border-right: 1px solid rgba(36,50,68,.35); padding: 10px 10px; font-size: 13px; vertical-align: middle; }
    tbody tr:hover td { background: rgba(96,165,250,.07); }

    thead th:last-child, tbody td:last-child { border-right: none; }


    .mono { font-family: var(--mono); }
    .muted { color: var(--muted); }
    .row-title { display:flex; flex-direction:column; gap:2px; }
    .name { font-size: 13px; }
    .sub { font-size: 11px; color: var(--muted); }

    .priceCell { display:flex; flex-direction:column; gap:2px; }
    .priceMain { font-family: var(--mono); }
    .chg { font-size: 11px; }
    .chg.pos { color: var(--good); }
    .chg.neg { color: var(--bad); }
    .chg.flat { color: var(--muted); }

    .tickerCell { display:flex; flex-direction:column; gap:2px; }
    .tickerMain { display:flex; align-items:center; gap:8px; }
    .tinychip { display:inline-flex; align-items:center; padding: 2px 6px; border-radius: 999px; font-size: 10px; border: 1px solid rgba(148,163,184,.18); background: rgba(148,163,184,.08); color: #cbd5e1; }

    .chip { display:inline-flex; align-items:center; gap:6px; padding: 4px 8px; border-radius: 999px; background: var(--chip); border: 1px solid rgba(148,163,184,.15); font-size: 11px; }
    .chip.good { border-color: rgba(52,211,153,.25); color: #a7f3d0; }
    .chip.warn { border-color: rgba(251,191,36,.25); color: #fde68a; }
    .chip.bad  { border-color: rgba(251,113,133,.25); color: #fecdd3; }
    .chip.blue { border-color: rgba(96,165,250,.25); color: #bfdbfe; }


    /* Encoded recommendation signal pill (private code) */
    .sig { display:inline-flex; align-items:center; justify-content:center; min-width: 28px; padding: 2px 8px; border-radius: 999px; font-size: 10px; border: 1px solid rgba(148,163,184,.15); background: rgba(148,163,184,.10); color: #e2e8f0; }
    .sig.good { border-color: rgba(52,211,153,.25); color: #a7f3d0; background: rgba(52,211,153,.08); }
    .sig.warn { border-color: rgba(251,191,36,.25); color: #fde68a; background: rgba(251,191,36,.08); }
    .sig.bad  { border-color: rgba(251,113,133,.25); color: #fecdd3; background: rgba(251,113,133,.08); }
    .sig.blue { border-color: rgba(96,165,250,.25); color: #bfdbfe; background: rgba(96,165,250,.08); }
    .sig.grad.good { background: linear-gradient(90deg, rgba(52,211,153,.18), rgba(52,211,153,.06)); }
    .sig.grad.blue { background: linear-gradient(90deg, rgba(96,165,250,.18), rgba(96,165,250,.06)); }
    .sig.grad.warn { background: linear-gradient(90deg, rgba(251,191,36,.20), rgba(251,191,36,.06)); }
    .sig.grad.bad  { background: linear-gradient(90deg, rgba(251,113,133,.18), rgba(251,113,133,.06)); }

    /* Bucket matrix (Score Ã— Risk) */
    .matrixPanel { padding: 12px 14px 14px; border-top: 1px solid var(--border); }
    .matrixHead { display:flex; justify-content: space-between; align-items:flex-end; gap: 12px; margin-bottom: 10px; }
    .matrixTitle { font-weight: 700; }
    .matrixLayout { display: grid; grid-template-columns: 1fr; gap: 12px; }
    @media (min-width: 980px) { .matrixLayout { grid-template-columns: .70fr 1.30fr; align-items: start; } }

    .matrixGrid { display: grid; grid-template-columns: 84px repeat(5, 1fr); gap: 4px; }
    .matrixLabel { font-size: 10px; color: var(--muted); display:flex; flex-direction:column; align-items:center; justify-content:center; padding: 4px 0; line-height: 1.05; text-align: center; }
    .matrixLabel .lbl { font-family: var(--mono); color: #cbd5e1; }
    .matrixLabel .hint { font-size: 9px; color: var(--muted); }
    .matrixAxis { display:flex; flex-direction:column; align-items:center; justify-content:center; gap:2px; padding: 6px 4px; border-radius: 10px; border: 1px dashed rgba(148,163,184,.18); background: rgba(148,163,184,.04); }
    .matrixAxis .lbl { font-weight: 700; color: #e2e8f0; }
    .matrixAxis .hint { font-size: 9px; color: var(--muted); font-family: var(--mono); }
    .cell { background: rgba(148,163,184,.06); border: 1px solid rgba(148,163,184,.15); border-radius: 9px; min-height: 28px; display:flex; align-items:center; justify-content:center; cursor: pointer; user-select:none; transition: border-color .12s ease, transform .06s ease; }
    .cell:hover { border-color: rgba(96,165,250,.45); }
    .cell.active { box-shadow: 0 0 0 2px rgba(96,165,250,.25) inset; }
    .cell.zero { opacity: .45; cursor: default; }
    .cell .cnt { font-family: var(--mono); font-size: 11px; }
    .matrixNote { margin-top: 8px; color: var(--muted); font-size: 11px; }


/* Market Context (Finviz-inspired patterns, scanner-owned data & logic) */
.marketPanel { padding: 12px 14px 14px; border-top: 1px solid var(--border); }
.marketHead { display:flex; justify-content: space-between; align-items:flex-end; gap: 12px; margin-bottom: 10px; flex-wrap: wrap; }
.marketHead select { width: auto; min-width: 170px; padding: 8px 10px; border-radius: 10px; }
.marketGrid { display:grid; grid-template-columns: 1fr; gap: 12px; }
@media (min-width: 980px) { .marketGrid { grid-template-columns: 1fr 1fr 1.2fr; align-items: stretch; } }

.marketCard { border: 1px solid rgba(148,163,184,.15); background: rgba(15,23,42,.35); border-radius: 12px; padding: 10px; }
.marketCardTitle { font-weight: 700; margin-bottom: 8px; }
.breadthRow { display:flex; flex-wrap: wrap; gap: 6px; align-items: center; margin-bottom: 6px; }

.moversGrid { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.moversList { font-family: var(--mono); font-size: 11px; display:flex; flex-direction: column; gap: 6px; }
.moversItem { display:flex; justify-content: space-between; gap: 10px; }
.moversItem .sym { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px; }
.moversItem .val { white-space: nowrap; }
.moversItem .val.pos { color: var(--good); }
.moversItem .val.neg { color: var(--bad); }
.moversItem .val.flat { color: var(--muted); }

.heatWrap { overflow:auto; }
.heatTbl { width: 100%; border-collapse: collapse; font-size: 11px; }
.heatTbl th, .heatTbl td { border: 1px solid rgba(36,50,68,.40); padding: 6px 6px; }
.heatTbl th { background: rgba(15,23,42,.55); color: #cbd5e1; position: sticky; top: 0; z-index: 2; }
.heatTbl th:first-child { left: 0; z-index: 3; }
.heatTbl td:first-child { position: sticky; left: 0; background: rgba(11,15,20,.96); z-index: 1; white-space: nowrap; }
.heatCell { text-align: center; font-family: var(--mono); }
.heatCell.zero { color: rgba(148,163,184,.55); }

    /* KPI chips are clickable quick-filters */
    button.chip { appearance: none; -webkit-appearance: none; border: 1px solid rgba(148,163,184,.15); background: var(--chip); color: inherit; font: inherit; }
    button.chip.kpi { cursor: pointer; }
    button.chip.kpi:hover { border-color: rgba(96,165,250,.45); }
    button.chip.kpi.active { box-shadow: 0 0 0 2px rgba(96,165,250,.25) inset; }

    /* KPI chips slightly more compact than normal chips */
    button.chip.kpi { padding: 2px 6px; font-size: 10px; line-height: 1.1; }

    .jsError { display:none; margin: 10px 14px 0 14px; padding: 10px 12px; border-radius: 14px; background: rgba(251,113,133,.08); border: 1px solid rgba(251,113,133,.25); color: #fecdd3; font-family: var(--mono); font-size: 12px; }
    .jsError.show { display:block; }

    .scorebar { width: 120px; height: 10px; border-radius: 999px; background: rgba(148,163,184,.15); overflow: hidden; border: 1px solid rgba(148,163,184,.10); }
    .scorebar > div { height: 100%; border-radius: 999px; background: linear-gradient(90deg, rgba(96,165,250,.9), rgba(52,211,153,.9)); }
    .scorecell { display:flex; align-items:center; gap:10px; }

    .right { text-align: right; }
    .small { font-size: 11px; }

    .footer { padding: 10px 14px; color: var(--muted); font-size: 12px; display:flex; justify-content: space-between; border-top: 1px solid var(--border); }
    .kbd { font-family: var(--mono); background: rgba(148,163,184,.12); border: 1px solid rgba(148,163,184,.18); padding: 2px 6px; border-radius: 6px; }

    .overlay { position: fixed; inset: 0; background: rgba(0,0,0,.6); display: none; align-items: flex-end; justify-content: center; padding: 18px; z-index: 90; }
    .overlay.show { display: flex; }
    .drawer { width: min(720px, 96vw); max-height: 88vh; overflow: auto; }
    .drawer-head { display: flex; justify-content: space-between; align-items: flex-start; gap: 12px; padding: 14px; border-bottom: 1px solid var(--border); }
    .drawer-actions { display: flex; gap: 8px; align-items: center; }
    .drawer-title { font-weight: 700; }
    .drawer-body { padding: 14px; }
    .btn { background: #0f172a; border: 1px solid var(--border); color: var(--text); padding: 8px 10px; border-radius: 10px; cursor: pointer; }
    .btn:hover { border-color: rgba(96,165,250,.45); }
    .kv { display: grid; grid-template-columns: 160px 1fr; gap: 6px 12px; }
    .kv div { padding: 4px 0; border-bottom: 1px dashed rgba(148,163,184,.15); }
    .kv .k { color: var(--muted); font-size: 12px; }
    .kv .v { font-family: var(--mono); }
    .why { margin-top: 12px; }
    .why ul { margin: 6px 0 0 18px; padding: 0; }

    @media (max-width: 860px) {
      .controls { grid-template-columns: 1fr; }
      #tbl thead th:nth-child(2),
      #tbl tbody td:nth-child(2) { position: static; }
      thead th { top: 0; }
      .count { justify-self: start; }
      .hide-sm { display:none; }
    }

    /* Let the briefing breathe a bit more on larger screens */
    @media (min-width: 980px) {
      .briefingText { max-height: 520px; }
    }
  </style>
</head>
<body data-build-sha="local" data-build-branch="">
  <header>
    <div class="wrap">
      <div class="title">
        <h1>Scanner_vNext â€” Research Dashboard</h1>
        <div class="meta">version 0.0.1-v7 ? build 2026-02-13 ? sha local ? <a class="helpLink" href="help.html" target="_blank" rel="noopener">Hilfe / Projektbeschreibung</a></div>
      </div>
    </div>
  </header>

  <div class="wrap">
    <div class="disclaimer" id="disclaimer">
      <div class="txt"><b>Privates, experimentelles Projekt.</b> Keine Anlageberatung, keine GewÃ¤hr. Nutzung auf eigene Verantwortung.</div>
      <button type="button" class="btn" id="discOk" title="Hinweis ausblenden">Verstanden</button>
    </div>
    <div id="jsErrorBanner" class="jsError"></div>

    <div class="panel">
      <div class="controls">
        <div>
          <label for="preset">Preset</label>
          <select id="preset"><option value="ALL">Alle Werte (ALL) â€” Alles sichtbar (inkl. Concept2/Playground)</option>
<option value="CORE">Ãœbersicht (CORE) â€” Core-Übersicht (ohne Concept2/Playground)</option>
<option value="AVOID">Vermeiden (AVOID) â€” Vermeiden (Score==0 / Crypto-Bear)</option>
<option value="BROKEN">Fehler/NA (BROKEN) â€” Auffällige Zeilen (NA/ERROR)</option>
<option value="SCORED">Bewertet (SCORED) â€” Nur bewertete Werte (Score &gt; 0)</option>
<option value="TOP">Top (TOP) â€” Top-Auswahl (streng)</option>
<option value="TOP_RELAXED">Top (entspannt) (TOP_RELAXED) â€” Top-Auswahl (entspannt)</option></select>
        </div>
        <div>
          <label for="search">Suche (Symbol/Name/Kategorie/Landâ€¦)</label>
          <input id="search" placeholder="z.B. NVDA, Gold, Deutschland, Kryptoâ€¦"/>
        </div>
        <div>
          <label for="clusterSel">Cluster/Sektor</label>
          <select id="clusterSel"><option value="">Alle</option></select>
        </div>
        <div>
          <label for="pillarSel">SÃ¤ule (5â€‘SÃ¤ulen/Playground)</label>
          <select id="pillarSel"><option value="">Alle</option></select>
        </div>
        <div class="count" id="count">â€”</div>
      </div>

      <div class="kpis" id="kpis">â€”</div>
      <div class="pillars" id="pillars">â€”</div>
      <div class="clusters" id="clusters">â€”</div>

      <div class="filters" id="filters">
        <button type="button" class="fbtn active" data-f="hideAvoid" title="AVOID-Zeilen ausblenden (score_status beginnt mit AVOID_)">AVOID ausblenden</button>
        <button type="button" class="fbtn" data-f="onlyOK" title="Nur score_status = OK anzeigen">Nur OK</button>
        <button type="button" class="fbtn" data-f="trendOK" title="Nur trend_ok = true anzeigen">Trend OK</button>
        <button type="button" class="fbtn" data-f="liqOK" title="Nur liquidity_ok = true anzeigen">Liq OK</button>
        <span class="fsep"></span>
        <button type="button" class="fbtn" data-f="onlyStock" title="Nur Aktien (is_crypto = false)">Aktien</button>
        <button type="button" class="fbtn" data-f="onlyCrypto" title="Nur Krypto (is_crypto = true)">Krypto</button>
        <button type="button" class="fbtn" data-f="resetSort" title="Nur Sort-Override lÃ¶schen (Preset-Sort bleibt)">Sortierung zurÃ¼ck</button>
        <button type="button" class="fbtn" data-f="reset" title="Alles zurÃ¼cksetzen (Preset, Suche, Filter, Sort & Persistenz)">Reset</button>
        <button type="button" class="hintbtn" id="infoFlow" aria-haspopup="dialog" aria-expanded="false" title="ErklÃ¤rung anzeigen"><span class="i">i</span>Preset â†’ Quick-Filter</button>
      </div>

      <div class="popover" id="infoPopover" role="dialog" aria-modal="false" aria-hidden="true">
        <button type="button" class="btn close" id="infoClose" title="SchlieÃŸen">âœ•</button>
        <div class="title">Wie wirken Preset, Suche und Quick-Filter?</div>
        <ul>
          <li><b>Preset</b> filtert und sortiert zuerst (View-Layer, verÃ¤ndert kein Scoring).</li>
          <li>Danach wirkt die <b>Suche</b> (Ticker/Name/Kategorie/Landâ€¦).</li>
          <li>Zuletzt greifen die <b>Quick-Filter</b> (z.B. Trend OK, Liq OK, Nur OK).</li>
        </ul>
        <div class="title" style="margin-top:10px;">Signalâ€‘Codes (privat)</div>
        <ul>
          <li><b>R5</b> = <span class="sig good grad">Top Setup</span></li>
          <li><b>R4</b> = <span class="sig good grad">Good Setup</span></li>
          <li><b>R3</b> = <span class="sig blue grad">Neutral</span></li>
          <li><b>R2</b> = <span class="sig warn grad">Weak</span></li>
          <li><b>R1</b> = <span class="sig bad grad">Low Priority</span></li>
          <li><b>R0</b> = <span class="sig warn grad">Avoid</span> (z.B. AVOID_CRYPTO_BEAR)</li>
        </ul>
      </div>

      <div class="matrixPanel" id="matrixPanel">
        <div class="matrixLayout">
          <div>
            <div class="matrixHead">
              <div>
                <div class="matrixTitle">Bucketâ€‘Matrix (Score Ã— Risk)</div>
                <div class="muted small">Klick auf ein Feld = Matrixâ€‘Filter (zusÃ¤tzlich zu Preset/Suche/Quickâ€‘Filter).</div>
              </div>
              <div style="display:flex; gap:8px; align-items:center;">
                <button type="button" class="btn" id="matrixClear" title="Matrixâ€‘Filter zurÃ¼cksetzen">Matrix zurÃ¼ck</button>
              </div>
            </div>
            <div class="matrixGrid" id="matrix"></div>
            <div class="matrixNote" id="matrixNote">â€”</div>
          </div>

          <div class="briefingBox" id="briefingBox">
            <div class="briefHead">
              <div class="matrixTitle">Briefing</div>
              <button type="button" class="btn" id="briefingToggle" title="Briefing ein-/ausblenden">Ausblenden</button>
            </div>
            <div class="muted small">Privat/experimentell Â· keine Anlageberatung Â· ohne Einfluss aufs Scoring.</div>
            <div id="briefingText" class="briefingText">â€”</div>
          </div>
        </div>
      </div>


<div class="marketPanel" id="marketPanel">
  <div class="marketHead">
    <div>
      <div class="matrixTitle">Market Context</div>
      <div class="muted small">Passiv aus deiner Watchlist (kein Einfluss auf Scoring) Â· Basis: gefiltertes Universe (Preset/Suche/Quick/Cluster/SÃ¤ule)</div>
    </div>
    <div style="display:flex; gap:8px; align-items:center; flex-wrap: wrap;">
      <select id="heatMode" title="Heatmap-Modus">
        <option value="pillar">Heatmap: SÃ¤ulen</option>
        <option value="cluster">Heatmap: Cluster</option>
      </select>
      <button type="button" class="btn" id="marketToggle" title="Market Context ein-/ausblenden">Ausblenden</button>
    </div>
  </div>
  <div id="marketBody" class="marketGrid">
    <div class="marketCard" id="breadthCard">
      <div class="marketCardTitle">Breadth</div>
      <div id="breadthBox">â€”</div>
      <div id="diversBox" class="muted small" style="margin-top:8px;">â€”</div>
      <div id="qualityBox" class="muted small" style="margin-top:8px;">â€”</div>
    </div>
    <div class="marketCard" id="moversCard">
      <div class="marketCardTitle">Movers</div>
      <div class="moversGrid">
        <div>
          <div class="muted small">Top â†‘</div>
          <div id="moversUp" class="moversList">â€”</div>
        </div>
        <div>
          <div class="muted small">Weak â†“</div>
          <div id="moversDown" class="moversList">â€”</div>
        </div>
      </div>
    </div>
    <div class="marketCard" id="heatCard">
      <div class="marketCardTitle">Heatmap</div>
      <div id="heatmap" class="heatWrap">â€”</div>
    </div>
  </div>
</div>

      <div class="table-wrap">
        <table id="tbl">
          <colgroup>
            <col class="col-ticker"/>
            <col class="col-name"/>
            <col class="col-price"/>
            <col class="col-score"/>
            <col class="col-conf"/>
            <col class="col-cycle"/>
            <col class="col-trend"/>
            <col class="col-liq"/>
            <col class="col-status"/>
            <col class="col-class"/>
          </colgroup>
          <thead>
            <tr>
              <th data-k="ticker" title="Anzeige-Symbol (oben) + ISIN (unten) und ggf. Quote-WÃ¤hrung">Symbol/ISIN</th>
              <th data-k="name" title="Name + Kategorie/Land/WÃ¤hrung">Name</th>
              <th data-k="price" class="right" title="Aktueller Kurs (OriginalwÃ¤hrung) + TagesÃ¤nderung (Perf %)">Kurs</th>
              <th data-k="score" class="right" title="Gesamtscore (hÃ¶her = besser)">Score</th>
              <th data-k="confidence" class="hide-sm right" title="Confidence/Vertrauen in das Scoring">Konf</th>
              <th data-k="cycle" class="hide-sm right" title="Zyklus in % (ca. 50 = neutral)">Zyklus</th>
              <th data-k="trend_ok" title="Trend-Filter (z.B. Trend200 > 0)">Trend</th>
              <th data-k="liquidity_ok" title="LiquiditÃ¤ts-Filter (z.B. DollarVolume/AvgVolume)">Liq</th>
              <th data-k="score_status" title="OK / AVOID / AVOID_CRYPTO_BEAR / NA / ERROR">Status</th>
              <th data-k="is_crypto" class="hide-sm" title="Assetklasse">Art</th>
            </tr>
          </thead>
          <tbody><tr><td class="mono">VALE3.SA</td><td>VALE S.A.</td><td class="mono right">87.02999877929688</td><td class="mono right">31.02</td><td class="mono right hide-sm">80.4</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">6503.T</td><td>MITSUBISHI EL.</td><td class="mono right">5519.0</td><td class="mono right">27.99</td><td class="mono right hide-sm">80.1</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">ENR.DE</td><td>SIEMENS ENERGY</td><td class="mono right">164.3000030517578</td><td class="mono right">27.43</td><td class="mono right hide-sm">79.6</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">2899.HK</td><td>ZIJIN MINING</td><td class="mono right">43.52000045776367</td><td class="mono right">26.97</td><td class="mono right hide-sm">80.4</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">ABBN.SW</td><td>ABB LTD. NA</td><td class="mono right">70.4800033569336</td><td class="mono right">26.81</td><td class="mono right hide-sm">63.7</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">PFE</td><td>PFIZER INC.</td><td class="mono right">27.57999992370605</td><td class="mono right">26.47</td><td class="mono right hide-sm">63.0</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">FRES.L</td><td>FRESNILLO PLC</td><td class="mono right">3820.39306640625</td><td class="mono right">26.44</td><td class="mono right hide-sm">83.1</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">YCA.L</td><td>YELLOW CAKE PLC</td><td class="mono right">628.0</td><td class="mono right">26.26</td><td class="mono right hide-sm">64.5</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">KEP</td><td>KOREA EL. PWR ADR 1/2</td><td class="mono right">21.520000457763672</td><td class="mono right">25.96</td><td class="mono right hide-sm">72.3</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">SN.L</td><td>SMITH + NEP. DL</td><td class="mono right">1319.0</td><td class="mono right">25.3</td><td class="mono right hide-sm">62.3</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">0857.HK</td><td>PETROCHINA CO.</td><td class="mono right">9.18000030517578</td><td class="mono right">24.9</td><td class="mono right hide-sm">61.6</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">NESN.SW</td><td>NESTLE NAM.</td><td class="mono right">79.58000183105469</td><td class="mono right">24.85</td><td class="mono right hide-sm">58.6</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">ABX.TO</td><td>BARRICK MINING</td><td class="mono right">65.31999969482422</td><td class="mono right">24.8</td><td class="mono right hide-sm">76.9</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">INGR</td><td>INGREDION INC</td><td class="mono right">118.30999755859376</td><td class="mono right">24.5</td><td class="mono right hide-sm">57.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">AEM</td><td>AGNICO EAGLE</td><td class="mono right">216.58999633789065</td><td class="mono right">24.46</td><td class="mono right hide-sm">76.9</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">6861.T</td><td>KEYENCE CORP.</td><td class="mono right">58160.0</td><td class="mono right">24.3</td><td class="mono right hide-sm">62.2</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">WPM.TO</td><td>WHEATON PREC.</td><td class="mono right">198.67999267578125</td><td class="mono right">24.26</td><td class="mono right hide-sm">75.4</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">TSMN.MX</td><td>TAIWAN SEMICON.MANU.ADR/5</td><td class="mono right">6298.0</td><td class="mono right">23.97</td><td class="mono right hide-sm">59.2</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">ON</td><td>ON SEMICOND.</td><td class="mono right">72.20999908447266</td><td class="mono right">23.77</td><td class="mono right hide-sm">64.5</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">PKX</td><td>POSCO HOL.ADR</td><td class="mono right">65.62000274658203</td><td class="mono right">23.65</td><td class="mono right hide-sm">58.5</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">MA</td><td>MASTERCARD INC</td><td class="mono right">518.3599853515625</td><td class="mono right">23.65</td><td class="mono right hide-sm">57.7</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">PAAS.TO</td><td>PAN AMER. SILVER</td><td class="mono right">79.0</td><td class="mono right">23.36</td><td class="mono right hide-sm">76.4</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">SOLB.BR</td><td>SOLVAY S.A. A</td><td class="mono right">27.940000534057617</td><td class="mono right">23.35</td><td class="mono right hide-sm">55.3</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">RI.PA</td><td>PERNOD RICARD</td><td class="mono right">84.23999786376953</td><td class="mono right">23.26</td><td class="mono right hide-sm">55.7</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">NEM.AX</td><td>NEWMONT CORP.</td><td class="mono right">173.61000061035156</td><td class="mono right">23.05</td><td class="mono right hide-sm">68.1</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">OXY</td><td>OCCIDENTAL PET.</td><td class="mono right">46.06999969482422</td><td class="mono right">23.0</td><td class="mono right hide-sm">61.2</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">AGI.TO</td><td>ALAMOS GOLD</td><td class="mono right">61.61000061035156</td><td class="mono right">22.87</td><td class="mono right hide-sm">73.9</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">3750.HK</td><td>CONT.AMPEREX (CATL)</td><td class="mono right">531.5</td><td class="mono right">22.87</td><td class="mono right hide-sm">60.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">UAA</td><td>UNDER ARMOUR</td><td class="mono right">7.190000057220459</td><td class="mono right">22.74</td><td class="mono right hide-sm">56.0</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">DB1.DE</td><td>DEUTSCHE BANK</td><td class="mono right">218.0</td><td class="mono right">22.68</td><td class="mono right hide-sm">55.8</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">AAPL</td><td>Apple Inc.</td><td class="mono right">255.77999877929688</td><td class="mono right">22.55</td><td class="mono right hide-sm">61.2</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">AG.TO</td><td>FIRST MAJESTIC</td><td class="mono right">31.280000686645508</td><td class="mono right">22.5</td><td class="mono right hide-sm">70.9</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">INCY</td><td>INCYTE DL</td><td class="mono right">101.0999984741211</td><td class="mono right">22.25</td><td class="mono right hide-sm">58.5</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">HL</td><td>HECLA MNG</td><td class="mono right">22.600000381469727</td><td class="mono right">22.05</td><td class="mono right hide-sm">73.4</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">0700.HK</td><td>TENCENT HLDGS</td><td class="mono right">533.0</td><td class="mono right">21.98</td><td class="mono right hide-sm">58.0</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">EQX.TO</td><td>EQUINOX GOLD</td><td class="mono right">21.530000686645508</td><td class="mono right">21.7</td><td class="mono right hide-sm">68.2</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">CPB</td><td>CAMPBELLS CO.</td><td class="mono right">29.489999771118164</td><td class="mono right">21.63</td><td class="mono right hide-sm">56.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">APLD</td><td>Applied Digital</td><td class="mono right">35.279998779296875</td><td class="mono right">21.52</td><td class="mono right hide-sm">67.5</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">DSV.TO</td><td>DISCOVERY SILVER</td><td class="mono right">10.18000030517578</td><td class="mono right">21.43</td><td class="mono right hide-sm">69.2</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">RLNIY</td><td>RELIANCE INDS</td><td class="mono right"></td><td class="mono right">21.27</td><td class="mono right hide-sm">60.0</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">SQ</td><td>BLOCK INC. A</td><td class="mono right"></td><td class="mono right">21.27</td><td class="mono right hide-sm">60.0</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">ASM.TO</td><td>AVINO SILVER</td><td class="mono right">13.31999969482422</td><td class="mono right">20.92</td><td class="mono right hide-sm">70.1</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">XSDG.F</td><td>SAMSUNG SDI</td><td class="mono right">54.59999847412109</td><td class="mono right">20.83</td><td class="mono right hide-sm">51.2</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">GMED</td><td>Globus Medical</td><td class="mono right">88.08999633789062</td><td class="mono right">20.36</td><td class="mono right hide-sm">52.9</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">TSLA</td><td>Tesla</td><td class="mono right">417.4400024414063</td><td class="mono right">20.29</td><td class="mono right hide-sm">50.4</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">NKE</td><td>NIKE INC. B</td><td class="mono right">63.130001068115234</td><td class="mono right">20.27</td><td class="mono right hide-sm">57.9</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">FME.DE</td><td>FRESEN.MED.CARE</td><td class="mono right">40.869998931884766</td><td class="mono right">20.16</td><td class="mono right hide-sm">52.8</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">9880.HK</td><td>UBTECH ROBOT.CORP.</td><td class="mono right">138.0</td><td class="mono right">19.93</td><td class="mono right hide-sm">49.7</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">MC.PA</td><td>LVMH EO</td><td class="mono right">519.2999877929688</td><td class="mono right">19.8</td><td class="mono right hide-sm">48.1</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">EDR.TO</td><td>ENDEAVOUR SILVER</td><td class="mono right">16.010000228881836</td><td class="mono right">19.74</td><td class="mono right hide-sm">67.7</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">BTO.TO</td><td>B2GOLD CORP.</td><td class="mono right">7.349999904632568</td><td class="mono right">19.69</td><td class="mono right hide-sm">65.9</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">CDNL</td><td>Cardinal Infrastructure</td><td class="mono right">25.0</td><td class="mono right">19.47</td><td class="mono right hide-sm">49.2</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">LKNCY</td><td>LUCKIN COFFEE</td><td class="mono right">36.45000076293945</td><td class="mono right">19.09</td><td class="mono right hide-sm">54.0</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">RCAT</td><td>Red Cat Holdings</td><td class="mono right">11.369999885559082</td><td class="mono right">19.05</td><td class="mono right hide-sm">55.5</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">JD</td><td>JD.COM ADR</td><td class="mono right">27.13999938964844</td><td class="mono right">18.92</td><td class="mono right hide-sm">47.4</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">AUTO.OL</td><td>AUTOSTORE HOLDINGS</td><td class="mono right">12.31999969482422</td><td class="mono right">18.76</td><td class="mono right hide-sm">52.8</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">PPTA</td><td>Perpetua Resources</td><td class="mono right">28.86000061035156</td><td class="mono right">18.53</td><td class="mono right hide-sm">66.0</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">FLNC</td><td>FLUENCE ENER.</td><td class="mono right">18.459999084472656</td><td class="mono right">18.44</td><td class="mono right hide-sm">49.0</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">NFLX</td><td>NETFLIX INC.</td><td class="mono right">76.87000274658203</td><td class="mono right">18.07</td><td class="mono right hide-sm">48.4</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">LUMN</td><td>LUMEN TECHN.</td><td class="mono right">8.390000343322754</td><td class="mono right">17.87</td><td class="mono right hide-sm">47.1</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">1810.HK</td><td>XIAOMI CORP. CL.B</td><td class="mono right">36.65999984741211</td><td class="mono right">17.87</td><td class="mono right hide-sm">50.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">NOVO-B.CO</td><td>NOVO-NORDISK</td><td class="mono right">309.79998779296875</td><td class="mono right">17.81</td><td class="mono right hide-sm">46.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">CNC</td><td>CENTENE CORP.</td><td class="mono right">40.58000183105469</td><td class="mono right">17.77</td><td class="mono right hide-sm">47.1</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">SLVR.V</td><td>SILVER TIGER</td><td class="mono right">0.9200000166893004</td><td class="mono right">16.95</td><td class="mono right hide-sm">51.9</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">FIGR</td><td>Figure Technology Solutions</td><td class="mono right">35.290000915527344</td><td class="mono right">16.86</td><td class="mono right hide-sm">45.7</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">TTK.DE</td><td>TAKKT AG</td><td class="mono right">3.7699999809265137</td><td class="mono right">16.74</td><td class="mono right hide-sm">41.5</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">SPOT</td><td>SPOTIFY TECH.</td><td class="mono right">458.3399963378906</td><td class="mono right">16.71</td><td class="mono right hide-sm">47.6</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">MNSO</td><td>MINISO GRP ADS</td><td class="mono right">19.270000457763672</td><td class="mono right">16.65</td><td class="mono right hide-sm">51.0</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">AAGFF</td><td>AFTERMATH SILVER</td><td class="mono right">0.6830000281333923</td><td class="mono right">16.1</td><td class="mono right hide-sm">48.9</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">UNH</td><td>UNITEDHEALTH</td><td class="mono right">293.19000244140625</td><td class="mono right">16.07</td><td class="mono right hide-sm">51.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">DV.V</td><td>DOLLY VARDEN</td><td class="mono right">6.139999866485596</td><td class="mono right">15.95</td><td class="mono right hide-sm">47.4</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">PYPL</td><td>PAYPAL HDGS</td><td class="mono right">40.290000915527344</td><td class="mono right">15.86</td><td class="mono right hide-sm">46.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">MGMA.V</td><td>MAGMA SILVER</td><td class="mono right">0.3100000023841858</td><td class="mono right">15.65</td><td class="mono right hide-sm">57.2</td><td class="mono right hide-sm">50.0</td><td class="mono">True</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">TTAN</td><td>ServiceTitan</td><td class="mono right">62.7400016784668</td><td class="mono right">14.98</td><td class="mono right hide-sm">43.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">ZETA</td><td>ZETA GLOBAL</td><td class="mono right">15.460000038146973</td><td class="mono right">14.52</td><td class="mono right hide-sm">39.7</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">MBLY</td><td>Mobileye Global</td><td class="mono right">9.1899995803833</td><td class="mono right">14.24</td><td class="mono right hide-sm">36.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">OGN</td><td>ORGANON + CO.</td><td class="mono right">7.389999866485596</td><td class="mono right">14.13</td><td class="mono right hide-sm">38.5</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">TEM</td><td>Tempus AI</td><td class="mono right">51.95000076293945</td><td class="mono right">12.79</td><td class="mono right hide-sm">39.2</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">COIN</td><td>COINBASE GLB.</td><td class="mono right">164.32000732421875</td><td class="mono right">12.7</td><td class="mono right hide-sm">39.9</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">QS</td><td>QUANTUMSCAPE A</td><td class="mono right">7.730000019073486</td><td class="mono right">11.76</td><td class="mono right hide-sm">37.3</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">VZLA.TO</td><td>VIZSLA SILVER</td><td class="mono right">5.199999809265137</td><td class="mono right">11.44</td><td class="mono right hide-sm">36.9</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">True</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr><tr><td class="mono">GOT.V</td><td>GOLIATH RES</td><td class="mono right">2.25</td><td class="mono right">10.62</td><td class="mono right hide-sm">35.4</td><td class="mono right hide-sm">50.0</td><td class="mono">False</td><td class="mono">False</td><td class="mono">OK</td><td class="mono hide-sm">STOCK</td></tr></tbody>
        </table>
      </div>

      <div class="footer">
        <div>Tipp: <span class="kbd">Klick</span> Header = Sortierung Â· <span class="kbd">Esc</span> = Suche leeren</div>
        <div class="mono" id="sortHint">â€”</div>
      </div>
    </div>
  </div>

  <div id="drawerOverlay" class="overlay" aria-hidden="true">
    <div class="drawer panel" role="dialog" aria-modal="true" aria-label="Why Score">
      <div class="drawer-head">
        <div>
          <div id="drawerTitle" style="font-weight:700;">â€”</div>
          <div id="drawerSub" class="muted small">â€”</div>
        </div>
        <div class="drawer-actions">
          <div id="drawerActions"></div>
          <button class="btn" id="drawerClose">SchlieÃŸen</button>
        </div>
      </div>
      <div class="drawer-body" id="drawerBody"></div>
    </div>
  </div>

  <script id="DATA" type="application/json">[{"ticker": "VALE3.SA", "ticker_display": "VALE3.SA", "yahoo_symbol": "VALE3.SA", "YahooSymbol": "VALE3.SA", "symbol": "VALE3.SA", "name": "VALE S.A.", "isin": "BRVALEACNOR0", "sector": "", "Sector": null, "Sektor": "Fundament", "industry": null, "Industry": null, "country": "", "currency": "BRL", "price": 87.02999877929688, "Akt. Kurs": 87.02999877929688, "perf_pct": 79.54767261373684, "Perf %": 79.54767261373684, "rs3m": 0.4010684836192459, "trend200": 0.4675463734490779, "sma200": 59.30306554794311, "score": 31.02, "confidence": 80.4, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 3214428636.513672, "avg_volume": 36934720.0, "volatility": 0.2365183583955174, "max_drawdown": 0.1539123072150799, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Fundament"}, {"ticker": "6503.T", "ticker_display": "6503.T", "yahoo_symbol": "6503.T", "YahooSymbol": "6503.T", "symbol": "6503.T", "name": "MITSUBISHI EL.", "isin": "JP3902400005", "sector": "", "Sector": null, "Sektor": "Hardware 💻", "industry": null, "Industry": null, "country": "", "currency": "JPY", "price": 5519.0, "Akt. Kurs": 5519.0, "perf_pct": 134.059057351542, "Perf %": 134.059057351542, "rs3m": 0.2579343521678625, "trend200": 0.446960031432523, "sma200": 3814.2034887695313, "score": 27.99, "confidence": 80.1, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 38847578720.0, "avg_volume": 7038880.0, "volatility": 0.3839412995958657, "max_drawdown": 0.2408453413105913, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Hardware", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Hardware 💻"}, {"ticker": "ENR.DE", "ticker_display": "ENR.DE", "yahoo_symbol": "ENR.DE", "YahooSymbol": "ENR.DE", "symbol": "ENR.DE", "name": "SIEMENS ENERGY", "isin": "DE000ENER6Y0", "sector": "", "Sector": null, "Sektor": "Energie", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 164.3000030517578, "Akt. Kurs": 164.3000030517578, "perf_pct": 158.33334432957832, "Perf %": 158.33334432957832, "rs3m": 0.5186546626593727, "trend200": 0.5715194654724118, "sma200": 104.5485001373291, "score": 27.43, "confidence": 79.6, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 394898318.6899605, "avg_volume": 2403519.85, "volatility": 0.4873919277403983, "max_drawdown": 0.2364779475104841, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Energie", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Energie"}, {"ticker": "2899.HK", "ticker_display": "2899.HK", "yahoo_symbol": "2899.HK", "YahooSymbol": "2899.HK", "symbol": "2899.HK", "name": "ZIJIN MINING", "isin": "CNE100000502", "sector": "", "Sector": null, "Sektor": "Fundament", "industry": null, "Industry": null, "country": "", "currency": "HKD", "price": 43.52000045776367, "Akt. Kurs": 43.52000045776367, "perf_pct": 180.5306707054272, "Perf %": 180.5306707054272, "rs3m": 0.274115572847796, "trend200": 0.5386601592857014, "sma200": 28.28434868812561, "score": 26.97, "confidence": 80.4, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 4228923876.417794, "avg_volume": 97171963.05, "volatility": 0.4690386227491863, "max_drawdown": 0.2265372159743245, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Fundament"}, {"ticker": "ABBN.SW", "ticker_display": "ABBN.SW", "yahoo_symbol": "ABBN.SW", "YahooSymbol": "ABBN.SW", "symbol": "ABBN.SW", "name": "ABB LTD. NA", "isin": "CH0012221716", "sector": "Industrials", "Sector": null, "Sektor": "Hardware 💻", "industry": "Electrical Equipment & Parts", "Industry": null, "country": "Switzerland", "currency": "CHF", "price": 70.4800033569336, "Akt. Kurs": 70.4800033569336, "perf_pct": 38.55990292660098, "Perf %": 38.55990292660098, "rs3m": 0.2279021515032506, "trend200": 0.2837104355963977, "sma200": 54.90335000991821, "score": 26.81, "confidence": 63.7, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 206645509.17044067, "avg_volume": 2931973.6, "volatility": 0.2782384900078297, "max_drawdown": 0.2456562423148082, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Electrical Equipment & Parts", "pillar_primary": "Hardware", "bucket_type": "pillar", "pillar_confidence": 50.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "robotics, automation", "category": "Hardware 💻"}, {"ticker": "PFE", "ticker_display": "PFE", "yahoo_symbol": "PFE", "YahooSymbol": "PFE", "symbol": "PFE", "name": "PFIZER INC.", "isin": "US7170811035", "sector": "", "Sector": null, "Sektor": "Pharma & Gesundheit", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 27.57999992370605, "Akt. Kurs": 27.57999992370605, "perf_pct": 15.87127813080389, "Perf %": 15.87127813080389, "rs3m": 0.069874198009816, "trend200": 0.1463762263955019, "sma200": 24.0584192943573, "score": 26.47, "confidence": 63.0, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 1511907877.9176426, "avg_volume": 54818995.0, "volatility": 0.2649923670015461, "max_drawdown": 0.1925953938816752, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Pharma & Gesundheit"}, {"ticker": "FRES.L", "ticker_display": "FRES.L", "yahoo_symbol": "FRES.L", "YahooSymbol": "FRES.L", "symbol": "FRES.L", "name": "FRESNILLO PLC", "isin": "GB00B2QPKJ12", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "GBp", "price": 3820.39306640625, "Akt. Kurs": 3820.39306640625, "perf_pct": 387.2589591458264, "Perf %": 387.2589591458264, "rs3m": 0.645341800248701, "trend200": 0.7039554622745032, "sma200": 2242.073311767578, "score": 26.44, "confidence": 83.1, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 5559772566.863525, "avg_volume": 1455288.1, "volatility": 0.4964883925158211, "max_drawdown": 0.2085235920852359, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "YCA.L", "ticker_display": "YCA.L", "yahoo_symbol": "YCA.L", "YahooSymbol": "YCA.L", "symbol": "YCA.L", "name": "YELLOW CAKE PLC", "isin": "JE00BF50RG45", "sector": "", "Sector": null, "Sektor": "Energie", "industry": null, "Industry": null, "country": "", "currency": "GBp", "price": 628.0, "Akt. Kurs": 628.0, "perf_pct": 37.71929824561404, "Perf %": 37.71929824561404, "rs3m": 0.1675045902793892, "trend200": 0.1591388777466149, "sma200": 541.7815000915527, "score": 26.26, "confidence": 64.5, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 1455058541.6, "avg_volume": 2316972.2, "volatility": 0.3761906304974224, "max_drawdown": 0.1727389735302199, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Energie", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Energie"}, {"ticker": "KEP", "ticker_display": "KEP", "yahoo_symbol": "KEP", "YahooSymbol": "KEP", "symbol": "KEP", "name": "KOREA EL. PWR ADR 1/2", "isin": "US5006311063", "sector": "Utilities", "Sector": null, "Sektor": "Energie", "industry": "Utilities - Regulated Electric", "Industry": null, "country": "South Korea", "currency": "USD", "price": 21.520000457763672, "Akt. Kurs": 21.520000457763672, "perf_pct": 192.39130526330385, "Perf %": 192.39130526330385, "rs3m": 0.2766007934625119, "trend200": 0.4646729682699557, "sma200": 14.692699956893922, "score": 25.96, "confidence": 72.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 14626175.911121368, "avg_volume": 679655.0, "volatility": 0.5036165318191225, "max_drawdown": 0.1558704125175612, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Utilities - Regulated Electric", "pillar_primary": "Energie", "bucket_type": "pillar", "pillar_confidence": 45.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "grid, storage, electrification", "category": "Energie"}, {"ticker": "SN.L", "ticker_display": "SN.L", "yahoo_symbol": "SN.L", "YahooSymbol": "SN.L", "symbol": "SN.L", "name": "SMITH + NEP. DL", "isin": "GB0009223206", "sector": "", "Sector": null, "Sektor": "Hardware 💻", "industry": null, "Industry": null, "country": "", "currency": "GBp", "price": 1319.0, "Akt. Kurs": 1319.0, "perf_pct": 27.903075723156626, "Perf %": 27.903075723156626, "rs3m": 0.0329787050422989, "trend200": 0.063611543326612, "sma200": 1240.114408569336, "score": 25.3, "confidence": 62.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 3182319050.45, "avg_volume": 2412675.55, "volatility": 0.2899062830792218, "max_drawdown": 0.2031019814526364, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Hardware", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Hardware 💻"}, {"ticker": "0857.HK", "ticker_display": "0857.HK", "yahoo_symbol": "0857.HK", "YahooSymbol": "0857.HK", "symbol": "0857.HK", "name": "PETROCHINA CO.", "isin": "CNE1000003W8", "sector": "", "Sector": null, "Sektor": "Energie", "industry": null, "Industry": null, "country": "", "currency": "HKD", "price": 9.18000030517578, "Akt. Kurs": 9.18000030517578, "perf_pct": 63.67065735191273, "Perf %": 63.67065735191273, "rs3m": -0.0027676536744623, "trend200": 0.2178916989828694, "sma200": 7.537616286277771, "score": 24.9, "confidence": 61.6, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 1041073264.7499692, "avg_volume": 113406669.95, "volatility": 0.2848089154710774, "max_drawdown": 0.1900311938046931, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Energie", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Energie"}, {"ticker": "NESN.SW", "ticker_display": "NESN.SW", "yahoo_symbol": "NESN.SW", "YahooSymbol": "NESN.SW", "symbol": "NESN.SW", "name": "NESTLE NAM.", "isin": "CH0038863350", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "CHF", "price": 79.58000183105469, "Akt. Kurs": 79.58000183105469, "perf_pct": 0.0216906676813177, "Perf %": 0.0216906676813177, "rs3m": -0.0132547672384968, "trend200": 0.0167161778696827, "sma200": 78.27159984588623, "score": 24.85, "confidence": 58.6, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 296816042.47343445, "avg_volume": 3729781.8, "volatility": 0.2045542556428095, "max_drawdown": 0.1996392657789185, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "ABX.TO", "ticker_display": "ABX.TO", "yahoo_symbol": "ABX.TO", "YahooSymbol": "ABX.TO", "symbol": "ABX.TO", "name": "BARRICK MINING", "isin": "CA06849F1080", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 65.31999969482422, "Akt. Kurs": 65.31999969482422, "perf_pct": 154.6752342489914, "Perf %": 154.6752342489914, "rs3m": 0.2532725516362148, "trend200": 0.5049788954450636, "sma200": 43.40260178565979, "score": 24.8, "confidence": 76.9, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 431322328.3848572, "avg_volume": 6603220.0, "volatility": 0.4077513053567945, "max_drawdown": 0.1632340584832474, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "AEM", "ticker_display": "AEM", "yahoo_symbol": "AEM", "YahooSymbol": "AEM", "symbol": "AEM", "name": "AGNICO EAGLE", "isin": "CA0084741085", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 216.58999633789065, "Akt. Kurs": 216.58999633789065, "perf_pct": 128.85122006114975, "Perf %": 128.85122006114975, "rs3m": 0.2680860327877092, "trend200": 0.4251384557799991, "sma200": 151.97821338653566, "score": 24.46, "confidence": 76.9, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 706280484.9581909, "avg_volume": 3260910.0, "volatility": 0.4095475975208639, "max_drawdown": 0.1635942649013326, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "6861.T", "ticker_display": "6861.T", "yahoo_symbol": "6861.T", "YahooSymbol": "6861.T", "symbol": "6861.T", "name": "KEYENCE CORP.", "isin": "JP3236200006", "sector": "", "Sector": null, "Sektor": "Hardware 💻", "industry": null, "Industry": null, "country": "", "currency": "JPY", "price": 58160.0, "Akt. Kurs": 58160.0, "perf_pct": -9.562218979435844, "Perf %": -9.562218979435844, "rs3m": -0.0222260611423942, "trend200": 0.0135326640379216, "sma200": 57383.4490625, "score": 24.3, "confidence": 62.2, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 51766180400.0, "avg_volume": 890065.0, "volatility": 0.3221672173329657, "max_drawdown": 0.219455600324429, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Hardware", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Hardware 💻"}, {"ticker": "WPM.TO", "ticker_display": "WPM.TO", "yahoo_symbol": "WPM.TO", "YahooSymbol": "WPM.TO", "symbol": "WPM.TO", "name": "WHEATON PREC.", "isin": "CA9628791027", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 198.67999267578125, "Akt. Kurs": 198.67999267578125, "perf_pct": 103.72337088246805, "Perf %": 103.72337088246805, "rs3m": 0.3173754606361612, "trend200": 0.3816133661975123, "sma200": 143.8028883743286, "score": 24.26, "confidence": 75.4, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 176308625.50048828, "avg_volume": 887400.0, "volatility": 0.3879103797773379, "max_drawdown": 0.1710683596963222, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "TSMN.MX", "ticker_display": "TSMN.MX", "yahoo_symbol": "TSMN.MX", "YahooSymbol": "TSMN.MX", "symbol": "TSMN.MX", "name": "TAIWAN SEMICON.MANU.ADR/5", "isin": "US8740391003", "sector": "", "Sector": null, "Sektor": "Gehirn", "industry": null, "Industry": null, "country": "", "currency": "MXN", "price": 6298.0, "Akt. Kurs": 6298.0, "perf_pct": 53.28455945810467, "Perf %": 53.28455945810467, "rs3m": 0.1557156761951474, "trend200": 0.2945292625757261, "sma200": 4865.088941650391, "score": 23.97, "confidence": 59.2, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 15214078.6, "avg_volume": 2415.7, "volatility": 0.3707968770258699, "max_drawdown": 0.2965262396819556, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Gehirn", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Gehirn"}, {"ticker": "ON", "ticker_display": "ON", "yahoo_symbol": "ON", "YahooSymbol": "ON", "symbol": "ON", "name": "ON SEMICOND.", "isin": "US6821891057", "sector": "Technology", "Sector": null, "Sektor": "Gehirn", "industry": "Semiconductors", "Industry": null, "country": "United States", "currency": "USD", "price": 72.20999908447266, "Akt. Kurs": 72.20999908447266, "perf_pct": 39.32084995838645, "Perf %": 39.32084995838645, "rs3m": 0.4828654010595283, "trend200": 0.3763592352967022, "sma200": 52.46449998855591, "score": 23.77, "confidence": 64.5, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 762756025.5792618, "avg_volume": 10563025.0, "volatility": 0.5888948831929316, "max_drawdown": 0.4268030175664271, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Semiconductors", "pillar_primary": "Gehirn", "bucket_type": "pillar", "pillar_confidence": 55.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "ai, software, semis", "category": "Gehirn"}, {"ticker": "PKX", "ticker_display": "PKX", "yahoo_symbol": "PKX", "YahooSymbol": "PKX", "symbol": "PKX", "name": "POSCO HOL.ADR", "isin": "US6934831099", "sector": "Basic Materials", "Sector": null, "Sektor": "Fundament", "industry": "Steel", "Industry": null, "country": "South Korea", "currency": "USD", "price": 65.62000274658203, "Akt. Kurs": 65.62000274658203, "perf_pct": 57.97378272303837, "Perf %": 57.97378272303837, "rs3m": 0.188803814099244, "trend200": 0.2472007556646436, "sma200": 52.61382535934448, "score": 23.65, "confidence": 58.5, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 14293677.098274233, "avg_volume": 217825.0, "volatility": 0.4129951667815534, "max_drawdown": 0.2557348019640375, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Steel", "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": 55.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "materials, mining", "category": "Fundament"}, {"ticker": "PAAS.TO", "ticker_display": "PAAS.TO", "yahoo_symbol": "PAAS.TO", "YahooSymbol": "PAAS.TO", "symbol": "PAAS.TO", "name": "PAN AMER. SILVER", "isin": "CA6979001089", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 79.0, "Akt. Kurs": 79.0, "perf_pct": 125.72648842274889, "Perf %": 125.72648842274889, "rs3m": 0.4750924535687679, "trend200": 0.5181104163441188, "sma200": 52.038375568389895, "score": 23.36, "confidence": 76.4, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 102159245.0, "avg_volume": 1293155.0, "volatility": 0.5327466105055308, "max_drawdown": 0.20795936114485, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "SOLB.BR", "ticker_display": "SOLB.BR", "yahoo_symbol": "SOLB.BR", "YahooSymbol": "SOLB.BR", "symbol": "SOLB.BR", "name": "SOLVAY S.A. A", "isin": "BE0003470755", "sector": "", "Sector": null, "Sektor": "Experimente", "industry": null, "Industry": null, "country": "", "currency": "EUR", "price": 27.940000534057617, "Akt. Kurs": 27.940000534057617, "perf_pct": -6.396063583372902, "Perf %": -6.396063583372902, "rs3m": 0.0866508781747044, "trend200": 0.0371651024869439, "sma200": 26.938816652297973, "score": 23.35, "confidence": 55.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 12616586.641159058, "avg_volume": 451560.0, "volatility": 0.2842068913911845, "max_drawdown": 0.2433092270294095, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Playground", "bucket_type": "playground", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Experimente"}, {"ticker": "RI.PA", "ticker_display": "RI.PA", "yahoo_symbol": "RI.PA", "YahooSymbol": "RI.PA", "symbol": "RI.PA", "name": "PERNOD RICARD", "isin": "FR0000120693", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "EUR", "price": 84.23999786376953, "Akt. Kurs": 84.23999786376953, "perf_pct": -10.817839977804422, "Perf %": -10.817839977804422, "rs3m": 0.042044087424385, "trend200": 0.0035286766176179, "sma200": 83.9437873840332, "score": 23.26, "confidence": 55.7, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 53912503.51284027, "avg_volume": 639987.0, "volatility": 0.2646135380998974, "max_drawdown": 0.2803426109235245, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "NEM.AX", "ticker_display": "NEM.AX", "yahoo_symbol": "NEM.AX", "YahooSymbol": "NEM.AX", "symbol": "NEM.AX", "name": "NEWMONT CORP.", "isin": "AU0000297962", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "AUD", "price": 173.61000061035156, "Akt. Kurs": 173.61000061035156, "perf_pct": 138.82511704371424, "Perf %": 138.82511704371424, "rs3m": 0.240116776436728, "trend200": 0.4375538106796237, "sma200": 120.76765357971192, "score": 23.05, "confidence": 68.1, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 81736690.71085739, "avg_volume": 470806.35, "volatility": 0.4102955931030748, "max_drawdown": 0.2119231991491403, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "OXY", "ticker_display": "OXY", "yahoo_symbol": "OXY", "YahooSymbol": "OXY", "symbol": "OXY", "name": "OCCIDENTAL PET.", "isin": "US6745991058", "sector": "Energy", "Sector": null, "Sektor": "Energie", "industry": "Oil & Gas E&P", "Industry": null, "country": "United States", "currency": "USD", "price": 46.06999969482422, "Akt. Kurs": 46.06999969482422, "perf_pct": -2.029630482908895, "Perf %": -2.029630482908895, "rs3m": 0.0853061186673951, "trend200": 0.0706628216653166, "sma200": 43.0294194984436, "score": 23.0, "confidence": 61.2, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 505034079.0545654, "avg_volume": 10962320.0, "volatility": 0.376276460036372, "max_drawdown": 0.3032368608993772, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Oil & Gas E&P", "pillar_primary": "Energie", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Energie"}, {"ticker": "AGI.TO", "ticker_display": "AGI.TO", "yahoo_symbol": "AGI.TO", "YahooSymbol": "AGI.TO", "symbol": "AGI.TO", "name": "ALAMOS GOLD", "isin": "CA0115321089", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 61.61000061035156, "Akt. Kurs": 61.61000061035156, "perf_pct": 89.05160677030932, "Perf %": 89.05160677030932, "rs3m": 0.3073118312826621, "trend200": 0.3923041215570695, "sma200": 44.250390167236326, "score": 22.87, "confidence": 73.9, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 82299562.96531677, "avg_volume": 1335815.0, "volatility": 0.4653720474359905, "max_drawdown": 0.2101639669075079, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "UAA", "ticker_display": "UAA", "yahoo_symbol": "UAA", "YahooSymbol": "UAA", "symbol": "UAA", "name": "UNDER ARMOUR", "isin": "US9043111072", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 7.190000057220459, "Akt. Kurs": 7.190000057220459, "perf_pct": 1.2676077999545845, "Perf %": 1.2676077999545845, "rs3m": 0.5254723151813019, "trend200": 0.2735243387254067, "sma200": 5.6457500171661374, "score": 22.74, "confidence": 56.0, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 95472271.95980072, "avg_volume": 13278480.0, "volatility": 0.5630144894389186, "max_drawdown": 0.4349593480175915, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "AAPL", "ticker_display": "AAPL", "yahoo_symbol": "AAPL", "YahooSymbol": "AAPL", "symbol": "AAPL", "name": "Apple Inc.", "isin": "US0378331005", "sector": "Technology", "Sector": "Technology", "Sektor": null, "industry": "Consumer Electronics", "Industry": "Consumer Electronics", "country": "United States", "currency": "USD", "price": 255.77999877929688, "Akt. Kurs": 255.77999877929688, "perf_pct": 5.02648938698389, "Perf %": 5.02648938698389, "rs3m": -0.0794747141431079, "trend200": 0.0675186002925336, "sma200": 239.60238136291505, "score": 22.55, "confidence": 61.2, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 15290202207.527924, "avg_volume": 59778725.0, "volatility": 0.3221120009181115, "max_drawdown": 0.3022258205202884, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Consumer Electronics", "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": null}, {"ticker": "AG.TO", "ticker_display": "AG.TO", "yahoo_symbol": "AG.TO", "YahooSymbol": "AG.TO", "symbol": "AG.TO", "name": "FIRST MAJESTIC", "isin": "CA32076V1031", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 31.280000686645508, "Akt. Kurs": 31.280000686645508, "perf_pct": 287.2445899679089, "Perf %": 287.2445899679089, "rs3m": 0.7764266192523339, "trend200": 0.8648576786593449, "sma200": 16.773398337364195, "score": 22.5, "confidence": 70.9, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 78430066.12166405, "avg_volume": 2507355.0, "volatility": 0.7001366771812492, "max_drawdown": 0.3012999364311738, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "INCY", "ticker_display": "INCY", "yahoo_symbol": "INCY", "YahooSymbol": "INCY", "symbol": "INCY", "name": "INCYTE DL", "isin": "US45337C1027", "sector": "Healthcare", "Sector": null, "Sektor": "Pharma & Gesundheit", "industry": "Biotechnology", "Industry": null, "country": "United States", "currency": "USD", "price": 101.0999984741211, "Akt. Kurs": 101.0999984741211, "perf_pct": 43.567169984258, "Perf %": 43.567169984258, "rs3m": -0.058334211645706, "trend200": 0.1816987310148121, "sma200": 85.55479990005493, "score": 22.25, "confidence": 58.5, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 196495429.5343399, "avg_volume": 1943575.0, "volatility": 0.3537112663936168, "max_drawdown": 0.2584677817546109, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Biotechnology", "pillar_primary": "Gehirn", "bucket_type": "pillar", "pillar_confidence": 55.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "ai, software, semis", "category": "Pharma & Gesundheit"}, {"ticker": "HL", "ticker_display": "HL", "yahoo_symbol": "HL", "YahooSymbol": "HL", "symbol": "HL", "name": "HECLA MNG", "isin": "US4227041062", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 22.600000381469727, "Akt. Kurs": 22.600000381469727, "perf_pct": 316.4199853958432, "Perf %": 316.4199853958432, "rs3m": 0.5059202767996249, "trend200": 0.8430822888438978, "sma200": 12.262068014144898, "score": 22.05, "confidence": 73.4, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 698450412.789278, "avg_volume": 30904885.0, "volatility": 0.7150696699396996, "max_drawdown": 0.3432882822895211, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "EQX.TO", "ticker_display": "EQX.TO", "yahoo_symbol": "EQX.TO", "YahooSymbol": "EQX.TO", "symbol": "EQX.TO", "name": "EQUINOX GOLD", "isin": "CA29446Y5020", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 21.530000686645508, "Akt. Kurs": 21.530000686645508, "perf_pct": 117.03629557520117, "Perf %": 117.03629557520117, "rs3m": 0.169546120617251, "trend200": 0.5243503579033131, "sma200": 14.124050009250642, "score": 21.7, "confidence": 68.2, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 69537165.61771393, "avg_volume": 3229780.0, "volatility": 0.5371846304133294, "max_drawdown": 0.2327416226438766, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "APLD", "ticker_display": "APLD", "yahoo_symbol": "APLD", "YahooSymbol": "APLD", "symbol": "APLD", "name": "Applied Digital", "isin": "US0381692070", "sector": "Technology", "Sector": null, "Sektor": "Tech 💻", "industry": "Information Technology Services", "Industry": null, "country": "United States", "currency": "USD", "price": 35.279998779296875, "Akt. Kurs": 35.279998779296875, "perf_pct": 287.266741041402, "Perf %": 287.266741041402, "rs3m": 0.5124757226992698, "trend200": 0.6778546818116777, "sma200": 21.026850037574768, "score": 21.52, "confidence": 67.5, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 1167214416.4138794, "avg_volume": 33084310.0, "volatility": 1.2917756658668038, "max_drawdown": 0.6769952882218799, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Information Technology Services", "pillar_primary": "Gehirn", "bucket_type": "pillar", "pillar_confidence": 55.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "ai, software, semis", "category": "Tech 💻"}, {"ticker": "DSV.TO", "ticker_display": "DSV.TO", "yahoo_symbol": "DSV.TO", "YahooSymbol": "DSV.TO", "symbol": "DSV.TO", "name": "DISCOVERY SILVER", "isin": "CA2546771072", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 10.18000030517578, "Akt. Kurs": 10.18000030517578, "perf_pct": 524.5398978500714, "Perf %": 524.5398978500714, "rs3m": 0.5120674193061148, "trend200": 0.8508923177108254, "sma200": 5.500050007104874, "score": 21.43, "confidence": 69.2, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 40504745.11425018, "avg_volume": 3978855.0, "volatility": 0.8008244459133376, "max_drawdown": 0.2429906966116609, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "ASM.TO", "ticker_display": "ASM.TO", "yahoo_symbol": "ASM.TO", "YahooSymbol": "ASM.TO", "symbol": "ASM.TO", "name": "AVINO SILVER", "isin": "CA0539061030", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 13.31999969482422, "Akt. Kurs": 13.31999969482422, "perf_pct": 537.3205857340128, "Perf %": 537.3205857340128, "rs3m": 0.9077467700399372, "trend200": 0.9576431402845736, "sma200": 6.8041000020504, "score": 20.92, "confidence": 70.1, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 16470645.822639463, "avg_volume": 1236535.0, "volatility": 0.8335866898001434, "max_drawdown": 0.3621444524381038, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "GMED", "ticker_display": "GMED", "yahoo_symbol": "GMED", "YahooSymbol": "GMED", "symbol": "GMED", "name": "Globus Medical", "isin": "US3795772082", "sector": "Healthcare", "Sector": null, "Sektor": "Pharma 🧪", "industry": "Medical Devices", "Industry": null, "country": "United States", "currency": "USD", "price": 88.08999633789062, "Akt. Kurs": 88.08999633789062, "perf_pct": 4.956506633609892, "Perf %": 4.956506633609892, "rs3m": 0.0313691156781508, "trend200": 0.2733485289391457, "sma200": 69.17979982376099, "score": 20.36, "confidence": 52.9, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 100764385.01098631, "avg_volume": 1143880.0, "volatility": 0.5374853815942647, "max_drawdown": 0.388306044210735, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Medical Devices", "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Pharma 🧪"}, {"ticker": "TSLA", "ticker_display": "TSLA", "yahoo_symbol": "TSLA", "YahooSymbol": "TSLA", "symbol": "TSLA", "name": "Tesla", "isin": "US88160R1014", "sector": "Consumer Cyclical", "Sector": null, "Sektor": "Tech 💻", "industry": "Auto Manufacturers", "Industry": null, "country": "United States", "currency": "USD", "price": 417.4400024414063, "Akt. Kurs": 417.4400024414063, "perf_pct": 17.311152972535115, "Perf %": 17.311152972535115, "rs3m": 0.0209876206305612, "trend200": 0.083804548742129, "sma200": 385.1616999816895, "score": 20.29, "confidence": 50.4, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 25911774143.54553, "avg_volume": 62073050.0, "volatility": 0.6171574903511017, "max_drawdown": 0.3846793817600422, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Auto Manufacturers", "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Tech 💻"}, {"ticker": "9880.HK", "ticker_display": "9880.HK", "yahoo_symbol": "9880.HK", "YahooSymbol": "9880.HK", "symbol": "9880.HK", "name": "UBTECH ROBOT.CORP.", "isin": "CNE100006CQ4", "sector": "", "Sector": null, "Sektor": "Hardware 💻", "industry": null, "Industry": null, "country": "", "currency": "HKD", "price": 138.0, "Akt. Kurs": 138.0, "perf_pct": 74.79418028409759, "Perf %": 74.79418028409759, "rs3m": 0.0888745752348652, "trend200": 0.2555470375274109, "sma200": 109.91225009918212, "score": 19.93, "confidence": 49.7, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 866361088.2, "avg_volume": 6277978.9, "volatility": 0.671156432358556, "max_drawdown": 0.4575559404730709, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Hardware", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Hardware 💻"}, {"ticker": "EDR.TO", "ticker_display": "EDR.TO", "yahoo_symbol": "EDR.TO", "YahooSymbol": "EDR.TO", "symbol": "EDR.TO", "name": "ENDEAVOUR SILVER", "isin": "CA29258Y1034", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 16.010000228881836, "Akt. Kurs": 16.010000228881836, "perf_pct": 168.17421761363042, "Perf %": 168.17421761363042, "rs3m": 0.3989129592037697, "trend200": 0.6051171526862567, "sma200": 9.974349973201752, "score": 19.74, "confidence": 67.7, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 32721398.567790985, "avg_volume": 2043810.0, "volatility": 0.7892350002326397, "max_drawdown": 0.3673758982292906, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "BTO.TO", "ticker_display": "BTO.TO", "yahoo_symbol": "BTO.TO", "YahooSymbol": "BTO.TO", "symbol": "BTO.TO", "name": "B2GOLD CORP.", "isin": "CA11777Q2099", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 7.349999904632568, "Akt. Kurs": 7.349999904632568, "perf_pct": 104.73904950037128, "Perf %": 104.73904950037128, "rs3m": 0.2635207318420745, "trend200": 0.2714198526168661, "sma200": 5.780938444137573, "score": 19.69, "confidence": 65.9, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 64854341.158504486, "avg_volume": 8823720.0, "volatility": 0.5019587389703994, "max_drawdown": 0.3557691920244926, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "LKNCY", "ticker_display": "LKNCY", "yahoo_symbol": "LKNCY", "YahooSymbol": "LKNCY", "symbol": "LKNCY", "name": "LUCKIN COFFEE", "isin": "US54951L1098", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 36.45000076293945, "Akt. Kurs": 36.45000076293945, "perf_pct": 20.695363715585778, "Perf %": 20.695363715585778, "rs3m": -0.0602508503947418, "trend200": 0.0001962185851442, "sma200": 36.44284999847413, "score": 19.09, "confidence": 54.0, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 74954141.31887436, "avg_volume": 2056355.0, "volatility": 0.5051952024562161, "max_drawdown": 0.2695858442228971, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "RCAT", "ticker_display": "RCAT", "yahoo_symbol": "RCAT", "YahooSymbol": "RCAT", "symbol": "RCAT", "name": "Red Cat Holdings", "isin": "US75644T1007", "sector": "Industrials", "Sector": null, "Sektor": null, "industry": "Aerospace & Defense", "Industry": null, "country": "United States", "currency": "USD", "price": 11.369999885559082, "Akt. Kurs": 11.369999885559082, "perf_pct": 27.466365339797782, "Perf %": 27.466365339797782, "rs3m": 0.451546074161379, "trend200": 0.2008998704204754, "sma200": 9.467900002002716, "score": 19.05, "confidence": 55.5, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 143191845.65875053, "avg_volume": 12593830.0, "volatility": 1.1757991030815842, "max_drawdown": 0.6007802457218128, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Aerospace & Defense", "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": null}, {"ticker": "AUTO.OL", "ticker_display": "AUTO.OL", "yahoo_symbol": "AUTO.OL", "YahooSymbol": "AUTO.OL", "symbol": "AUTO.OL", "name": "AUTOSTORE HOLDINGS", "isin": "BMG0670A1099", "sector": "Technology", "Sector": null, "Sektor": "Hardware 💻", "industry": "Computer Hardware", "Industry": null, "country": "Norway", "currency": "NOK", "price": 12.31999969482422, "Akt. Kurs": 12.31999969482422, "perf_pct": 9.511108398437496, "Perf %": 9.511108398437496, "rs3m": 0.147794828931586, "trend200": 0.3979649687490501, "sma200": 8.812810027599335, "score": 18.76, "confidence": 52.8, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 63507550.842869565, "avg_volume": 5154833.8, "volatility": 0.7134925348391076, "max_drawdown": 0.6115288227540154, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Computer Hardware", "pillar_primary": "Hardware", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Hardware 💻"}, {"ticker": "PPTA", "ticker_display": "PPTA", "yahoo_symbol": "PPTA", "YahooSymbol": "PPTA", "symbol": "PPTA", "name": "Perpetua Resources", "isin": "CA7142661031", "sector": "Basic Materials", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": "Other Precious Metals & Mining", "Industry": null, "country": "United States", "currency": "USD", "price": 28.86000061035156, "Akt. Kurs": 28.86000061035156, "perf_pct": 210.65662786714384, "Perf %": 210.65662786714384, "rs3m": 0.2949685728310658, "trend200": 0.3904329734509413, "sma200": 20.75612500667572, "score": 18.53, "confidence": 66.0, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 61042653.0909729, "avg_volume": 2115130.0, "volatility": 0.8151710324510352, "max_drawdown": 0.3172136393978049, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Other Precious Metals & Mining", "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": 55.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "materials, mining", "category": "Edelmetalle ⛏️"}, {"ticker": "FLNC", "ticker_display": "FLNC", "yahoo_symbol": "FLNC", "YahooSymbol": "FLNC", "symbol": "FLNC", "name": "FLUENCE ENER.", "isin": "US34379V1035", "sector": "Utilities", "Sector": null, "Sektor": "Experimente", "industry": "Utilities - Renewable", "Industry": null, "country": "United States", "currency": "USD", "price": 18.459999084472656, "Akt. Kurs": 18.459999084472656, "perf_pct": 187.0917508133485, "Perf %": 187.0917508133485, "rs3m": 0.1185537411048613, "trend200": 0.3742915197321625, "sma200": 13.43237502336502, "score": 18.44, "confidence": 49.0, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 137499580.08068085, "avg_volume": 7448515.0, "volatility": 1.110061342394334, "max_drawdown": 0.5095108927162413, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Utilities - Renewable", "pillar_primary": "Energie", "bucket_type": "pillar", "pillar_confidence": 45.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "grid, storage, electrification", "category": "Experimente"}, {"ticker": "LUMN", "ticker_display": "LUMN", "yahoo_symbol": "LUMN", "YahooSymbol": "LUMN", "symbol": "LUMN", "name": "LUMEN TECHN.", "isin": "US5502411037", "sector": "", "Sector": null, "Sektor": "Medien & Digitales 📱", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 8.390000343322754, "Akt. Kurs": 8.390000343322754, "perf_pct": 82.39131559271016, "Perf %": 82.39131559271016, "rs3m": 0.0158050858155696, "trend200": 0.3412197821373215, "sma200": 6.255499997138977, "score": 17.87, "confidence": 47.1, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 139869360.1235199, "avg_volume": 16670960.0, "volatility": 0.8318402466345985, "max_drawdown": 0.4733727760564704, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Medien & Digitales 📱"}, {"ticker": "CNC", "ticker_display": "CNC", "yahoo_symbol": "CNC", "YahooSymbol": "CNC", "symbol": "CNC", "name": "CENTENE CORP.", "isin": "US15135B1017", "sector": "", "Sector": null, "Sektor": "Pharma & Gesundheit", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 40.58000183105469, "Akt. Kurs": 40.58000183105469, "perf_pct": -28.63172459469345, "Perf %": -28.63172459469345, "rs3m": 0.1069650376634359, "trend200": 0.0090750081595374, "sma200": 40.21504992485046, "score": 17.77, "confidence": 47.1, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 297533182.12532043, "avg_volume": 7332015.0, "volatility": 0.6017357012847755, "max_drawdown": 0.6078706062300907, "trend_ok": true, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Pharma & Gesundheit"}, {"ticker": "XSDG.F", "ticker_display": "XSDG.F", "yahoo_symbol": "XSDG.F", "YahooSymbol": "XSDG.F", "symbol": "XSDG.F", "name": "SAMSUNG SDI", "isin": "US7960542030", "sector": "", "Sector": null, "Sektor": "Energie", "industry": null, "Industry": null, "country": "", "currency": "EUR", "price": 54.59999847412109, "Akt. Kurs": 54.59999847412109, "perf_pct": 58.17841758611917, "Perf %": 58.17841758611917, "rs3m": 0.1177387260841613, "trend200": 0.5064475685853824, "sma200": 36.24420763969422, "score": 20.83, "confidence": 51.2, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 459183.2571674347, "avg_volume": 8409.95, "volatility": 0.6410202733256374, "max_drawdown": 0.3901234458459174, "trend_ok": true, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Energie", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Energie"}, {"ticker": "SLVR.V", "ticker_display": "SLVR.V", "yahoo_symbol": "SLVR.V", "YahooSymbol": "SLVR.V", "symbol": "SLVR.V", "name": "SILVER TIGER", "isin": "CA82831T1093", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 0.9200000166893004, "Akt. Kurs": 0.9200000166893004, "perf_pct": 178.78787276720783, "Perf %": 178.78787276720783, "rs3m": 0.149437367113923, "trend200": 0.3397993437157278, "sma200": 0.686670001000166, "score": 16.95, "confidence": 51.9, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 3016252.254716456, "avg_volume": 3278535.0, "volatility": 0.8435616409206141, "max_drawdown": 0.3500000335276122, "trend_ok": true, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "AAGFF", "ticker_display": "AAGFF", "yahoo_symbol": "AAGFF", "YahooSymbol": "AAGFF", "symbol": "AAGFF", "name": "AFTERMATH SILVER", "isin": "CA00831V2057", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 0.6830000281333923, "Akt. Kurs": 0.6830000281333923, "perf_pct": 77.8645891136774, "Perf %": 77.8645891136774, "rs3m": 0.2520706076170591, "trend200": 0.1450030222673988, "sma200": 0.5965050002932548, "score": 16.1, "confidence": 48.9, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 795688.2027751207, "avg_volume": 1164990.0, "volatility": 0.9073638208083986, "max_drawdown": 0.4049159027042465, "trend_ok": true, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "DV.V", "ticker_display": "DV.V", "yahoo_symbol": "DV.V", "YahooSymbol": "DV.V", "symbol": "DV.V", "name": "DOLLY VARDEN", "isin": "CA2568277834", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 6.139999866485596, "Akt. Kurs": 6.139999866485596, "perf_pct": 46.19047965051921, "Perf %": 46.19047965051921, "rs3m": -0.0070351225278886, "trend200": 0.1099360721105908, "sma200": 5.53185000538826, "score": 15.95, "confidence": 47.4, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 2197567.35221386, "avg_volume": 357910.0, "volatility": 0.6286234238229533, "max_drawdown": 0.3021738902832921, "trend_ok": true, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "MGMA.V", "ticker_display": "MGMA.V", "yahoo_symbol": "MGMA.V", "YahooSymbol": "MGMA.V", "symbol": "MGMA.V", "name": "MAGMA SILVER", "isin": "CA5589221004", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 0.3100000023841858, "Akt. Kurs": 0.3100000023841858, "perf_pct": 148.00000190734863, "Perf %": 148.00000190734863, "rs3m": 0.2911040688604076, "trend200": 0.429559615232296, "sma200": 0.2168499998748302, "score": 15.65, "confidence": 57.2, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 107813.3043291837, "avg_volume": 347784.85, "volatility": 1.3656645969388823, "max_drawdown": 0.6530612275929115, "trend_ok": true, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "INGR", "ticker_display": "INGR", "yahoo_symbol": "INGR", "YahooSymbol": "INGR", "symbol": "INGR", "name": "INGREDION INC", "isin": "US4571871023", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 118.30999755859376, "Akt. Kurs": 118.30999755859376, "perf_pct": -4.23276329025768, "Perf %": -4.23276329025768, "rs3m": 0.0892990568646097, "trend200": -0.0313947347528356, "sma200": 122.1446979522705, "score": 24.5, "confidence": 57.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 90704134.27825928, "avg_volume": 766665.0, "volatility": 0.1904803959227071, "max_drawdown": 0.2393892135153646, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "MA", "ticker_display": "MA", "yahoo_symbol": "MA", "YahooSymbol": "MA", "symbol": "MA", "name": "MASTERCARD INC", "isin": "US57636Q1040", "sector": "", "Sector": null, "Sektor": "Finanzen", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 518.3599853515625, "Akt. Kurs": 518.3599853515625, "perf_pct": -7.685934719571685, "Perf %": -7.685934719571685, "rs3m": -0.0830210354235986, "trend200": -0.0788686968634961, "sma200": 562.7427746582031, "score": 23.65, "confidence": 57.7, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 2262239607.070923, "avg_volume": 4364225.0, "volatility": 0.2345224671148083, "max_drawdown": 0.1672536180809298, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Finanzen"}, {"ticker": "3750.HK", "ticker_display": "3750.HK", "yahoo_symbol": "3750.HK", "YahooSymbol": "3750.HK", "symbol": "3750.HK", "name": "CONT.AMPEREX (CATL)", "isin": "CNE100006WS8", "sector": "", "Sector": null, "Sektor": "Energie", "industry": null, "Industry": null, "country": "", "currency": "HKD", "price": 531.5, "Akt. Kurs": 531.5, "perf_pct": 74.04078761182218, "Perf %": 74.04078761182218, "rs3m": -0.0596535457022762, "trend200": null, "sma200": null, "score": 22.87, "confidence": 60.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 1296375962.9499998, "avg_volume": 2439089.3, "volatility": 0.3951811145528536, "max_drawdown": 0.2383292383292383, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Energie", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Energie"}, {"ticker": "DB1.DE", "ticker_display": "DB1.DE", "yahoo_symbol": "DB1.DE", "YahooSymbol": "DB1.DE", "symbol": "DB1.DE", "name": "DEUTSCHE BANK", "isin": "DE0005140008", "sector": "Financial Services", "Sector": null, "Sektor": "Finanzen", "industry": "Financial Data & Stock Exchanges", "Industry": null, "country": "Germany", "currency": "EUR", "price": 218.0, "Akt. Kurs": 218.0, "perf_pct": -9.803544259045305, "Perf %": -9.803544259045305, "rs3m": 0.0426320723909183, "trend200": -0.0967740788128369, "sma200": 241.357112197876, "score": 22.68, "confidence": 55.8, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 115232532.8, "avg_volume": 528589.6, "volatility": 0.2399183723431322, "max_drawdown": 0.2960801131219616, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Financial Data & Stock Exchanges", "pillar_primary": "Gehirn", "bucket_type": "pillar", "pillar_confidence": 55.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "ai, software, semis", "category": "Finanzen"}, {"ticker": "0700.HK", "ticker_display": "0700.HK", "yahoo_symbol": "0700.HK", "YahooSymbol": "0700.HK", "symbol": "0700.HK", "name": "TENCENT HLDGS", "isin": "KYG875721634", "sector": "", "Sector": null, "Sektor": "Gehirn", "industry": null, "Industry": null, "country": "", "currency": "HKD", "price": 533.0, "Akt. Kurs": 533.0, "perf_pct": 8.924783570437311, "Perf %": 8.924783570437311, "rs3m": -0.1908213885139547, "trend200": -0.0823963936981402, "sma200": 580.8608383178711, "score": 21.98, "confidence": 58.0, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 16507569090.35, "avg_volume": 30971048.95, "volatility": 0.3000805988883863, "max_drawdown": 0.214760147601476, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Gehirn", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Gehirn"}, {"ticker": "CPB", "ticker_display": "CPB", "yahoo_symbol": "CPB", "YahooSymbol": "CPB", "symbol": "CPB", "name": "CAMPBELLS CO.", "isin": "US1344291091", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 29.489999771118164, "Akt. Kurs": 29.489999771118164, "perf_pct": -19.72693065747661, "Perf %": -19.72693065747661, "rs3m": -0.0589264116243242, "trend200": -0.0327970664402441, "sma200": 30.489981727600096, "score": 21.63, "confidence": 56.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 196531090.1746559, "avg_volume": 6664330.0, "volatility": 0.2845054366625373, "max_drawdown": 0.353429215879312, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "NKE", "ticker_display": "NKE", "yahoo_symbol": "NKE", "YahooSymbol": "NKE", "symbol": "NKE", "name": "NIKE INC. B", "isin": "US6541061031", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 63.130001068115234, "Akt. Kurs": 63.130001068115234, "perf_pct": -11.5375067606452, "Perf %": -11.5375067606452, "rs3m": -0.0552617585557809, "trend200": -0.0530786430474355, "sma200": 66.66868436813354, "score": 20.27, "confidence": 57.9, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 919354314.3048286, "avg_volume": 14562875.0, "volatility": 0.4216867012425911, "max_drawdown": 0.3448406786618595, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "FME.DE", "ticker_display": "FME.DE", "yahoo_symbol": "FME.DE", "YahooSymbol": "FME.DE", "symbol": "FME.DE", "name": "FRESEN.MED.CARE", "isin": "DE0005785802", "sector": "", "Sector": null, "Sektor": "Pharma & Gesundheit", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 40.869998931884766, "Akt. Kurs": 40.869998931884766, "perf_pct": -6.884400579179106, "Perf %": -6.884400579179106, "rs3m": -0.0293388133313812, "trend200": -0.0695777077581254, "sma200": 43.92628946304321, "score": 20.16, "confidence": 52.8, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 35844795.51721573, "avg_volume": 877044.2, "volatility": 0.2916254179268024, "max_drawdown": 0.3144054905473211, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Pharma & Gesundheit"}, {"ticker": "MC.PA", "ticker_display": "MC.PA", "yahoo_symbol": "MC.PA", "YahooSymbol": "MC.PA", "symbol": "MC.PA", "name": "LVMH EO", "isin": "FR0000121014", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "EUR", "price": 519.2999877929688, "Akt. Kurs": 519.2999877929688, "perf_pct": -24.197590633663204, "Perf %": -24.197590633663204, "rs3m": -0.199205514531257, "trend200": -0.0328565713349552, "sma200": 536.9420629882812, "score": 19.8, "confidence": 48.1, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 255892650.7648071, "avg_volume": 492764.6, "volatility": 0.3179992742535906, "max_drawdown": 0.370005516851126, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "JD", "ticker_display": "JD", "yahoo_symbol": "JD", "YahooSymbol": "JD", "symbol": "JD", "name": "JD.COM ADR", "isin": "US47215P1066", "sector": "", "Sector": null, "Sektor": "E-Commerce", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 27.13999938964844, "Akt. Kurs": 27.13999938964844, "perf_pct": -32.479177897062506, "Perf %": -32.479177897062506, "rs3m": -0.1336949749826449, "trend200": -0.1460971640196012, "sma200": 31.78347494125366, "score": 18.92, "confidence": 47.4, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 265678610.6251526, "avg_volume": 9789190.0, "volatility": 0.373325964322805, "max_drawdown": 0.3819925211118454, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "E-Commerce"}, {"ticker": "NFLX", "ticker_display": "NFLX", "yahoo_symbol": "NFLX", "YahooSymbol": "NFLX", "symbol": "NFLX", "name": "NETFLIX INC.", "isin": "US64110L1061", "sector": "", "Sector": null, "Sektor": "Medien & Digitales 📱", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 76.87000274658203, "Akt. Kurs": 76.87000274658203, "perf_pct": -27.385223594014164, "Perf %": -27.385223594014164, "rs3m": -0.3514610430673099, "trend200": -0.3113535103175737, "sma200": 111.62476524353028, "score": 18.07, "confidence": 48.4, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 4256681782.992172, "avg_volume": 55375070.0, "volatility": 0.3291265128368642, "max_drawdown": 0.4335127747768319, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Medien & Digitales 📱"}, {"ticker": "1810.HK", "ticker_display": "1810.HK", "yahoo_symbol": "1810.HK", "YahooSymbol": "1810.HK", "symbol": "1810.HK", "name": "XIAOMI CORP. CL.B", "isin": "KYG9830T1067", "sector": "", "Sector": null, "Sektor": "Hardware 💻", "industry": null, "Industry": null, "country": "", "currency": "HKD", "price": 36.65999984741211, "Akt. Kurs": 36.65999984741211, "perf_pct": -18.803989793002614, "Perf %": -18.803989793002614, "rs3m": -0.1575420528719111, "trend200": -0.2402970045975841, "sma200": 48.25570001602173, "score": 17.87, "confidence": 50.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 5790284817.721417, "avg_volume": 157945576.7, "volatility": 0.4553943618088036, "max_drawdown": 0.4354115008648549, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Hardware", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Hardware 💻"}, {"ticker": "NOVO-B.CO", "ticker_display": "NOVO-B.CO", "yahoo_symbol": "NOVO-B.CO", "YahooSymbol": "NOVO-B.CO", "symbol": "NOVO-B.CO", "name": "NOVO-NORDISK", "isin": "DK0062498333", "sector": "", "Sector": null, "Sektor": "Pharma & Gesundheit", "industry": null, "Industry": null, "country": "", "currency": "DKK", "price": 309.79998779296875, "Akt. Kurs": 309.79998779296875, "perf_pct": -44.0358209521323, "Perf %": -44.0358209521323, "rs3m": 0.0505420274220675, "trend200": -0.1677681044980565, "sma200": 372.2520002746582, "score": 17.81, "confidence": 46.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 2809961619.889242, "avg_volume": 9070244.45, "volatility": 0.544157006019103, "max_drawdown": 0.5606143508689013, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Pharma & Gesundheit"}, {"ticker": "FIGR", "ticker_display": "FIGR", "yahoo_symbol": "FIGR", "YahooSymbol": "FIGR", "symbol": "FIGR", "name": "Figure Technology Solutions", "isin": "US3493811034", "sector": "Financial Services", "Sector": null, "Sektor": "Finanzen 🏦", "industry": "Capital Markets", "Industry": null, "country": "United States", "currency": "USD", "price": 35.290000915527344, "Akt. Kurs": 35.290000915527344, "perf_pct": 13.436194867141603, "Perf %": 13.436194867141603, "rs3m": 0.0027908821472755, "trend200": null, "sma200": null, "score": 16.86, "confidence": 45.7, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 155453159.83291626, "avg_volume": 4405020.0, "volatility": 1.0485801742329517, "max_drawdown": 0.5389663228983399, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Capital Markets", "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Finanzen 🏦"}, {"ticker": "SPOT", "ticker_display": "SPOT", "yahoo_symbol": "SPOT", "YahooSymbol": "SPOT", "symbol": "SPOT", "name": "SPOTIFY TECH.", "isin": "LU1778762911", "sector": "", "Sector": null, "Sektor": "Medien & Digitales 📱", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 458.3399963378906, "Akt. Kurs": 458.3399963378906, "perf_pct": -28.180137014927688, "Perf %": -28.180137014927688, "rs3m": -0.3072049551312288, "trend200": -0.2859720033155276, "sma200": 641.9075981140137, "score": 16.71, "confidence": 47.6, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 1876835825.704193, "avg_volume": 4094855.0, "volatility": 0.4662001932537225, "max_drawdown": 0.4680371349237977, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Medien & Digitales 📱"}, {"ticker": "MNSO", "ticker_display": "MNSO", "yahoo_symbol": "MNSO", "YahooSymbol": "MNSO", "symbol": "MNSO", "name": "MINISO GRP ADS", "isin": "US66981J1025", "sector": "", "Sector": null, "Sektor": "Konsum & Lifestyle", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 19.270000457763672, "Akt. Kurs": 19.270000457763672, "perf_pct": -13.087766642679776, "Perf %": -13.087766642679776, "rs3m": -0.1119010974809722, "trend200": -0.0494254162293987, "sma200": 20.27195002555847, "score": 16.65, "confidence": 51.0, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 13747025.626564026, "avg_volume": 713390.0, "volatility": 0.5313344479995664, "max_drawdown": 0.3568589307666993, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "concept2", "pillar_confidence": null, "pillar_reason": "concept2 (Konsum) – derived from legacy category", "pillar_tags": null, "category": "Konsum & Lifestyle"}, {"ticker": "UNH", "ticker_display": "UNH", "yahoo_symbol": "UNH", "YahooSymbol": "UNH", "symbol": "UNH", "name": "UNITEDHEALTH", "isin": "US91324P1021", "sector": "", "Sector": null, "Sektor": "Pharma & Gesundheit", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 293.19000244140625, "Akt. Kurs": 293.19000244140625, "perf_pct": -42.61612987733778, "Perf %": -42.61612987733778, "rs3m": -0.1297965189342318, "trend200": -0.0762274291377214, "sma200": 317.3833167266846, "score": 16.07, "confidence": 51.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 3926898935.699463, "avg_volume": 13393700.0, "volatility": 0.5154719282267766, "max_drawdown": 0.6005506450395512, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Pharma & Gesundheit"}, {"ticker": "PYPL", "ticker_display": "PYPL", "yahoo_symbol": "PYPL", "YahooSymbol": "PYPL", "symbol": "PYPL", "name": "PAYPAL HDGS", "isin": "US70450Y1038", "sector": "", "Sector": null, "Sektor": "Finanzen", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 40.290000915527344, "Akt. Kurs": 40.290000915527344, "perf_pct": -48.20682156033382, "Perf %": -48.20682156033382, "rs3m": -0.3993053548335827, "trend200": -0.3892442368214417, "sma200": 65.96745105743408, "score": 15.86, "confidence": 46.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 1174740190.044136, "avg_volume": 29157115.0, "volatility": 0.4070001917399602, "max_drawdown": 0.5017763639232091, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Finanzen"}, {"ticker": "TTAN", "ticker_display": "TTAN", "yahoo_symbol": "TTAN", "YahooSymbol": "TTAN", "symbol": "TTAN", "name": "ServiceTitan", "isin": "US81764X1037", "sector": "Technology", "Sector": null, "Sektor": "Tech 💻", "industry": "Software - Application", "Industry": null, "country": "United States", "currency": "USD", "price": 62.7400016784668, "Akt. Kurs": 62.7400016784668, "perf_pct": -37.2913545579702, "Perf %": -37.2913545579702, "rs3m": -0.3124231304732036, "trend200": -0.390966306997733, "sma200": 103.01564987182616, "score": 14.98, "confidence": 43.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 115838433.5989952, "avg_volume": 1846325.0, "volatility": 0.4968846887213273, "max_drawdown": 0.5304939014379142, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Software - Application", "pillar_primary": "Gehirn", "bucket_type": "pillar", "pillar_confidence": 55.0, "pillar_reason": "heuristic from official taxonomy", "pillar_tags": "ai, software, semis", "category": "Tech 💻"}, {"ticker": "ZETA", "ticker_display": "ZETA", "yahoo_symbol": "ZETA", "YahooSymbol": "ZETA", "symbol": "ZETA", "name": "ZETA GLOBAL", "isin": "US98956A1051", "sector": "", "Sector": null, "Sektor": "Medien & Digitales 📱", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 15.460000038146973, "Akt. Kurs": 15.460000038146973, "perf_pct": -34.18475866842867, "Perf %": -34.18475866842867, "rs3m": -0.1822220076884722, "trend200": -0.1215409952416186, "sma200": 17.599000015258788, "score": 14.52, "confidence": 39.7, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 147806799.06470776, "avg_volume": 9560595.0, "volatility": 0.7405747748073671, "max_drawdown": 0.5536654427138396, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Medien & Digitales 📱"}, {"ticker": "MBLY", "ticker_display": "MBLY", "yahoo_symbol": "MBLY", "YahooSymbol": "MBLY", "symbol": "MBLY", "name": "Mobileye Global", "isin": "US60741F1049", "sector": "Consumer Cyclical", "Sector": null, "Sektor": "Tech 💻", "industry": "Auto Parts", "Industry": null, "country": "Israel", "currency": "USD", "price": 9.1899995803833, "Akt. Kurs": 9.1899995803833, "perf_pct": -48.859210175073805, "Perf %": -48.859210175073805, "rs3m": -0.2798860458738055, "trend200": -0.3272968456832553, "sma200": 13.661299967765808, "score": 14.24, "confidence": 36.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 87200827.36839771, "avg_volume": 9488665.0, "volatility": 0.5682594842555642, "max_drawdown": 0.5597484459057231, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Auto Parts", "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Tech 💻"}, {"ticker": "OGN", "ticker_display": "OGN", "yahoo_symbol": "OGN", "YahooSymbol": "OGN", "symbol": "OGN", "name": "ORGANON + CO.", "isin": "US68622V1061", "sector": "", "Sector": null, "Sektor": "Pharma & Gesundheit", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 7.389999866485596, "Akt. Kurs": 7.389999866485596, "perf_pct": -50.393895684364665, "Perf %": -50.393895684364665, "rs3m": -0.0450193376158829, "trend200": -0.1675081714721933, "sma200": 8.876963849067687, "score": 14.13, "confidence": 38.5, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 45998204.31895495, "avg_volume": 6224385.0, "volatility": 0.6197373862749699, "max_drawdown": 0.6051979856068499, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Pharma & Gesundheit"}, {"ticker": "TEM", "ticker_display": "TEM", "yahoo_symbol": "TEM", "YahooSymbol": "TEM", "symbol": "TEM", "name": "Tempus AI", "isin": "US88023B1035", "sector": "Healthcare", "Sector": null, "Sektor": "Pharma 🧪", "industry": "Health Information Services", "Industry": null, "country": "United States", "currency": "USD", "price": 51.95000076293945, "Akt. Kurs": 51.95000076293945, "perf_pct": -41.91636924767212, "Perf %": -41.91636924767212, "rs3m": -0.2528009435598555, "trend200": -0.2586503742153414, "sma200": 70.0748998260498, "score": 12.79, "confidence": 39.2, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 276799994.065094, "avg_volume": 5328200.0, "volatility": 0.8290015353551029, "max_drawdown": 0.5837433080726225, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Health Information Services", "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Pharma 🧪"}, {"ticker": "COIN", "ticker_display": "COIN", "yahoo_symbol": "COIN", "YahooSymbol": "COIN", "symbol": "COIN", "name": "COINBASE GLB.", "isin": "US19260Q1076", "sector": "", "Sector": null, "Sektor": "Krypto-Infrastruktur 🪙", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 164.32000732421875, "Akt. Kurs": 164.32000732421875, "perf_pct": -40.096967377530845, "Perf %": -40.096967377530845, "rs3m": -0.437097262726593, "trend200": -0.432659937380588, "sma200": 289.63230018615724, "score": 12.7, "confidence": 39.9, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 2221414244.614868, "avg_volume": 13518830.0, "volatility": 0.7563631059735467, "max_drawdown": 0.6638953815137105, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Krypto-Infrastruktur 🪙"}, {"ticker": "QS", "ticker_display": "QS", "yahoo_symbol": "QS", "YahooSymbol": "QS", "symbol": "QS", "name": "QUANTUMSCAPE A", "isin": "US74767V1098", "sector": "Consumer Cyclical", "Sector": null, "Sektor": "Experimente", "industry": "Auto Parts", "Industry": null, "country": "United States", "currency": "USD", "price": 7.730000019073486, "Akt. Kurs": 7.730000019073486, "perf_pct": 47.80114705320564, "Perf %": 47.80114705320564, "rs3m": -0.4478072789799399, "trend200": -0.2216645096834582, "sma200": 9.931450017690658, "score": 11.76, "confidence": 37.3, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 133798763.58014344, "avg_volume": 17309025.0, "volatility": 1.0396799831122585, "max_drawdown": 0.5808026141432794, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Auto Parts", "pillar_primary": "Playground", "bucket_type": "playground", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Experimente"}, {"ticker": "VZLA.TO", "ticker_display": "VZLA.TO", "yahoo_symbol": "VZLA.TO", "YahooSymbol": "VZLA.TO", "symbol": "VZLA.TO", "name": "VIZSLA SILVER", "isin": "CA92859G6085", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 5.199999809265137, "Akt. Kurs": 5.199999809265137, "perf_pct": 66.66666666666667, "Perf %": 66.66666666666667, "rs3m": -0.2174301194691068, "trend200": -0.0678247512421442, "sma200": 5.578350011110306, "score": 11.44, "confidence": 36.9, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 15626805.426812172, "avg_volume": 3005155.0, "volatility": 0.6591363435965247, "max_drawdown": 0.4686825102931941, "trend_ok": false, "liquidity_ok": true, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}, {"ticker": "RLNIY", "ticker_display": "RLNIY", "yahoo_symbol": "RLNIY", "YahooSymbol": "RLNIY", "symbol": "RLNIY", "name": "RELIANCE INDS", "isin": "US7594701077", "sector": "", "Sector": null, "Sektor": "Experimente", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": null, "Akt. Kurs": null, "perf_pct": null, "Perf %": null, "rs3m": null, "trend200": null, "sma200": null, "score": 21.27, "confidence": 60.0, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": null, "avg_volume": null, "volatility": null, "max_drawdown": null, "trend_ok": false, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Playground", "bucket_type": "playground", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Experimente"}, {"ticker": "SQ", "ticker_display": "SQ", "yahoo_symbol": "SQ", "YahooSymbol": "SQ", "symbol": "SQ", "name": "BLOCK INC. A", "isin": "US8522341036", "sector": "", "Sector": null, "Sektor": "Fintech", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": null, "Akt. Kurs": null, "perf_pct": null, "Perf %": null, "rs3m": null, "trend200": null, "sma200": null, "score": 21.27, "confidence": 60.0, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": null, "avg_volume": null, "volatility": null, "max_drawdown": null, "trend_ok": false, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Fintech"}, {"ticker": "CDNL", "ticker_display": "CDNL", "yahoo_symbol": "CDNL", "YahooSymbol": "CDNL", "symbol": "CDNL", "name": "Cardinal Infrastructure", "isin": "US14154A1025", "sector": "Industrials", "Sector": null, "Sektor": null, "industry": "Engineering & Construction", "Industry": null, "country": "United States", "currency": "USD", "price": 25.0, "Akt. Kurs": 25.0, "perf_pct": 6.382978723404253, "Perf %": 6.382978723404253, "rs3m": null, "trend200": null, "sma200": null, "score": 19.47, "confidence": 49.2, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 3446750.0, "avg_volume": 137870.0, "volatility": 0.7114720139454626, "max_drawdown": 0.2569982809417143, "trend_ok": false, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": "Engineering & Construction", "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": null}, {"ticker": "TTK.DE", "ticker_display": "TTK.DE", "yahoo_symbol": "TTK.DE", "YahooSymbol": "TTK.DE", "symbol": "TTK.DE", "name": "TAKKT AG", "isin": "DE0007446007", "sector": "", "Sector": null, "Sektor": "Medien & Digitales 📱", "industry": null, "Industry": null, "country": "", "currency": "USD", "price": 3.7699999809265137, "Akt. Kurs": 3.7699999809265137, "perf_pct": -49.34456378124806, "Perf %": -49.34456378124806, "rs3m": -0.0887016098910987, "trend200": -0.2570387797689071, "sma200": 5.074289045333862, "score": 16.74, "confidence": 41.5, "diversification_penalty": 0.0, "cycle": 50.0, "dollar_volume": 125015.6498675108, "avg_volume": 33160.65, "volatility": 0.3240804923549154, "max_drawdown": 0.5437191764598829, "trend_ok": false, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": null, "bucket_type": "none", "pillar_confidence": null, "pillar_reason": null, "pillar_tags": null, "category": "Medien & Digitales 📱"}, {"ticker": "GOT.V", "ticker_display": "GOT.V", "yahoo_symbol": "GOT.V", "YahooSymbol": "GOT.V", "symbol": "GOT.V", "name": "GOLIATH RES", "isin": "CA38171A2092", "sector": "", "Sector": null, "Sektor": "Edelmetalle ⛏️", "industry": null, "Industry": null, "country": "", "currency": "CAD", "price": 2.25, "Akt. Kurs": 2.25, "perf_pct": -3.846150319251662, "Perf %": -3.846150319251662, "rs3m": -0.1969911943551984, "trend200": -0.085337967425934, "sma200": 2.4599249994754797, "score": 10.62, "confidence": 35.4, "diversification_penalty": 2.54, "cycle": 50.0, "dollar_volume": 1424328.75, "avg_volume": 633035.0, "volatility": 0.7639383570758361, "max_drawdown": 0.483271391774187, "trend_ok": false, "liquidity_ok": false, "is_crypto": false, "score_status": "OK", "market_date": "2026-02-16", "cluster_official": null, "pillar_primary": "Fundament", "bucket_type": "pillar", "pillar_confidence": null, "pillar_reason": "derived from legacy category", "pillar_tags": null, "category": "Edelmetalle ⛏️"}]</script>
  <script id="PRESETS" type="application/json">{"ALL": {"description": "Alles sichtbar (inkl. Concept2/Playground)", "filters": [], "sort": ["trend_ok:desc", "liquidity_ok:desc", "score:desc", "confidence:desc", "cycle:asc"], "limit": 200}, "CORE": {"description": "Core-Übersicht (ohne Concept2/Playground)", "filters": [{"field": "bucket_type", "not_in": ["concept2", "playground"], "on_missing": "skip"}], "sort": ["trend_ok:desc", "liquidity_ok:desc", "score:desc", "confidence:desc", "cycle:asc"], "limit": 200}, "SCORED": {"description": "Nur bewertete Werte (Score > 0)", "filters": [{"field": "score", "min": 0.0001, "on_missing": "skip"}], "sort": ["trend_ok:desc", "liquidity_ok:desc", "score:desc", "confidence:desc", "cycle:asc"], "limit": 200}, "TOP": {"description": "Top-Auswahl (streng)", "filters": [{"field": "score", "min": 34, "on_missing": "skip"}, {"field": "trend_ok", "eq": true, "on_missing": "skip"}, {"field": "liquidity_ok", "eq": true, "on_missing": "skip"}], "sort": ["score:desc", "confidence:desc", "cycle:asc"], "limit": 60}, "TOP_RELAXED": {"description": "Top-Auswahl (entspannt)", "filters": [{"field": "score", "min": 30, "on_missing": "skip"}, {"field": "liquidity_ok", "eq": true, "on_missing": "skip"}], "sort": ["score:desc", "confidence:desc", "cycle:asc"], "limit": 100}, "AVOID": {"description": "Vermeiden (Score==0 / Crypto-Bear)", "filters": [{"field": "score_status", "in": ["AVOID", "AVOID_CRYPTO_BEAR"], "on_missing": "skip"}], "sort": ["score:asc", "cycle:desc"], "limit": 200}, "BROKEN": {"description": "Auffällige Zeilen (NA/ERROR)", "filters": [{"field": "score_status", "in": ["NA", "ERROR"], "on_missing": "skip"}], "sort": ["ticker:asc"], "limit": 200}}</script>
  <script id="BRIEFING" type="application/json">{"text": "Scanner_vNext – Briefing (deterministisch)\nDatum: 2026-02-16  |  Generiert: 2026-02-16T08:19:50.795704Z\nQuelle: /home/runner/work/trading-zentrale/trading-zentrale/artifacts/watchlist/watchlist_ALL.csv\nUniverse: 82  |  Scored: 82\n\nTop 3 – Warum diese Werte oben stehen (aus vorhandenen Feldern abgeleitet)\n————————————————————————————————————————————————————————————————————————\n\nTop 3 – Kurzbegründung (pseudo-KI, deterministisch)\n 1) VALE3.SA: Score 31.02 | Pctl 100% | RiskB 0/4 | Trend OK | Liq OK — Treiber: Hoher Score: 31.02 (Perzentil 100.0%, Bucket 1/4).; Confidence: 80.4 (Daten-/Konfluenz‑Hinweis)..\n 2) 6503.T: Score 27.99 | Pctl 99% | RiskB 1/4 | Trend OK | Liq OK — Treiber: Hoher Score: 27.99 (Perzentil 98.8%, Bucket 1/4).; Confidence: 80.1 (Daten-/Konfluenz‑Hinweis)..\n 3) ENR.DE: Score 27.43 | Pctl 98% | RiskB 2/4 | Trend OK | Liq OK — Treiber: Hoher Score: 27.43 (Perzentil 97.5%, Bucket 1/4).; Confidence: 79.6 (Daten-/Konfluenz‑Hinweis)..\n\n————————————————————————————————————————————————————————————————————————\n1) VALE3.SA — VALE S.A. (BRVALEACNOR0)\n   Score 31.02 | Pctl 100.0% | RiskB 0/4 | Code R5 | Säule Fundament\n   Gründe:\n     - Hoher Score: 31.02 (Perzentil 100.0%, Bucket 1/4).\n     - Confidence: 80.4 (Daten-/Konfluenz‑Hinweis).\n     - Diversifikation: Penalty 0.00 (breiteres Setup).\n     - Zyklus: 50.0% (≈50 neutral).\n     - Tagesbewegung (Perf %): +79.55%.\n     - Trend‑Filter: OK.\n     - Liquidität: OK.\n     - Regime‑Hinweis: bull.\n     - Trend200‑Proxy: +0.055.\n     - Risk‑Proxy: Bucket 0/4 (Perzentil 3.8%).\n   Nächste Checks (keine Beratung):\n     - Datenqualität prüfen (Status/fehlende Felder/Confidence‑Breakdown).\n     - Chart‑Kontext prüfen (z.B. Trend200, Support/Resistance).\n     - Risk‑Metriken prüfen (Drawdown/Volatilität/Downside‑Dev).\n     - Cluster-/Säulen‑Exposure im eigenen Setup prüfen (Klumpenrisiko).\n\n2) 6503.T — MITSUBISHI EL. (JP3902400005)\n   Score 27.99 | Pctl 98.8% | RiskB 1/4 | Code R5 | Säule Hardware\n   Gründe:\n     - Hoher Score: 27.99 (Perzentil 98.8%, Bucket 1/4).\n     - Confidence: 80.1 (Daten-/Konfluenz‑Hinweis).\n     - Diversifikation: Penalty 0.00 (breiteres Setup).\n     - Zyklus: 50.0% (≈50 neutral).\n     - Tagesbewegung (Perf %): +134.06%.\n     - Trend‑Filter: OK.\n     - Liquidität: OK.\n     - Regime‑Hinweis: bull.\n     - Trend200‑Proxy: +0.055.\n     - Risk‑Proxy: Bucket 1/4 (Perzentil 30.4%).\n   Nächste Checks (keine Beratung):\n     - Datenqualität prüfen (Status/fehlende Felder/Confidence‑Breakdown).\n     - Chart‑Kontext prüfen (z.B. Trend200, Support/Resistance).\n     - Risk‑Metriken prüfen (Drawdown/Volatilität/Downside‑Dev).\n     - Cluster-/Säulen‑Exposure im eigenen Setup prüfen (Klumpenrisiko).\n\n3) ENR.DE — SIEMENS ENERGY (DE000ENER6Y0)\n   Score 27.43 | Pctl 97.5% | RiskB 2/4 | Code R5 | Säule Energie\n   Gründe:\n     - Hoher Score: 27.43 (Perzentil 97.5%, Bucket 1/4).\n     - Confidence: 79.6 (Daten-/Konfluenz‑Hinweis).\n     - Diversifikation: Penalty 0.00 (breiteres Setup).\n     - Zyklus: 50.0% (≈50 neutral).\n     - Tagesbewegung (Perf %): +158.33%.\n     - Trend‑Filter: OK.\n     - Liquidität: OK.\n     - Regime‑Hinweis: bull.\n     - Trend200‑Proxy: +0.055.\n     - Risk‑Proxy: Bucket 2/4 (Perzentil 46.8%).\n   Nächste Checks (keine Beratung):\n     - Datenqualität prüfen (Status/fehlende Felder/Confidence‑Breakdown).\n     - Chart‑Kontext prüfen (z.B. Trend200, Support/Resistance).\n     - Risk‑Metriken prüfen (Drawdown/Volatilität/Downside‑Dev).\n     - Cluster-/Säulen‑Exposure im eigenen Setup prüfen (Klumpenrisiko).\n\nDisclaimer: Privat/experimentell. Keine Anlageberatung. Keine Empfehlung. Nutzung auf eigenes Risiko.\n", "source": "artifacts/reports/briefing.txt"}</script>

  <script>
  (function() {
    const banner = document.getElementById('jsErrorBanner');
    function show(msg) {
      try {
        if (!banner) return;
        banner.textContent = msg;
        banner.classList.add('show');
      } catch (e) {}
    }
    window.__showJsError = show;
    window.addEventListener('error', (ev) => {
      const m = (ev && (ev.message || (ev.error && ev.error.message))) ? (ev.message || ev.error.message) : 'Unbekannter Fehler';
      show('UIâ€‘Fehler (JS): ' + m);
    });
    window.addEventListener('unhandledrejection', (ev) => {
      const r = ev && ev.reason;
      const m = (r && r.message) ? r.message : String(r);
      show('UIâ€‘Fehler (Promise): ' + m);
    });
    // If the main UI never sets jsok, show a helpful message (covers parse errors)
    setTimeout(() => {
      const ok = document.documentElement && document.documentElement.dataset && document.documentElement.dataset.jsok;
      if (!ok) show('UI konnte nicht initialisiert werden (JS lÃ¤dt nicht). Ã–ffne die Konsole (F12) fÃ¼r Details.');
    }, 700);
  })();
  </script>

  <script>
  (function() {
    try {
    const DATA = JSON.parse((document.getElementById('DATA')?.textContent) || '[]');
    const PRESETS = JSON.parse((document.getElementById('PRESETS')?.textContent) || '{}');
    const BRIEFING = JSON.parse((document.getElementById('BRIEFING')?.textContent) || '{"text":""}');

    const elPreset = document.getElementById('preset');
    const elSearch = document.getElementById('search');
    const elCount = document.getElementById('count');
    const elSortHint = document.getElementById('sortHint');
    const elKpis = document.getElementById('kpis');
    const elPillars = document.getElementById('pillars');
    const elClusters = document.getElementById('clusters');
    const elClusterSel = document.getElementById('clusterSel');
    const elPillarSel = document.getElementById('pillarSel');
    const elDisclaimer = document.getElementById('disclaimer');
    const btnDiscOk = document.getElementById('discOk');
    const tbody = document.querySelector('#tbl tbody');
    const elMatrix = document.getElementById('matrix');
    const elMatrixNote = document.getElementById('matrixNote');
    const btnMatrixClear = document.getElementById('matrixClear');

// Market Context (passive; watchlist-derived; no scoring influence)
const elMarketPanel = document.getElementById('marketPanel');
const elMarketBody = document.getElementById('marketBody');
const btnMarketToggle = document.getElementById('marketToggle');
const elBreadthBox = document.getElementById('breadthBox');
const elDiversBox = document.getElementById('diversBox');
const elQualityBox = document.getElementById('qualityBox');
const elMoversUp = document.getElementById('moversUp');
const elMoversDown = document.getElementById('moversDown');
const elHeatmap = document.getElementById('heatmap');
const elHeatMode = document.getElementById('heatMode');


    const elBriefing = document.getElementById('briefingText');
    const btnBriefingToggle = document.getElementById('briefingToggle');
    const drawerOverlay = document.getElementById('drawerOverlay');
    const drawerClose = document.getElementById('drawerClose');
    const drawerTitle = document.getElementById('drawerTitle');
    const drawerSub = document.getElementById('drawerSub');
    const drawerBody = document.getElementById('drawerBody');
    const drawerActions = document.getElementById('drawerActions');

    // Flow info popover (Preset â†’ Quick-Filter)
    const infoFlow = document.getElementById('infoFlow');
    const infoPopover = document.getElementById('infoPopover');
    const infoClose = document.getElementById('infoClose');

    // ---- briefing toggle (UI-only; must not affect scoring) ----
    let briefingVisible = true;
    function setBriefingVisible(on) {
      try {
        if (!elBriefing) return;
        elBriefing.style.display = on ? 'block' : 'none';
        if (btnBriefingToggle) btnBriefingToggle.textContent = on ? 'Ausblenden' : 'Einblenden';
      } catch (e) {}
    }
    if (btnBriefingToggle) {
      btnBriefingToggle.addEventListener('click', () => {
        briefingVisible = !briefingVisible;
        setBriefingVisible(briefingVisible);
      });
    }



    // ---- state ----
    let activePreset = 'ALL';
    let userSort = null; // {k, dir} dir: 'asc'|'desc'
    let clusterPick = ''; // Cluster/Sektor filter (string)
    let pillarPick = '';  // SÃ¤ulen-Filter (string; private metadata)

// Market Context UI state (passive)
let marketVisible = true;
let heatMode = 'pillar'; // 'pillar' | 'cluster'


    const DEFAULT_SORT = [{k:'score', dir:'desc'},{k:'confidence', dir:'desc'},{k:'name', dir:'asc'}];

    let quick = {
      hideAvoid: true,
      onlyOK: false,
      onlyAvoid: false,
      onlyNA: false,
      onlyERR: false,
      trendOK: false,
      onlyTrendFail: false,
      liqOK: false,
      onlyLiqFail: false,
      onlyStock: false,
      onlyCrypto: false,
    };

    // Bucket-matrix filter (Score Ã— Risk)
    let matrix = { sb: null, rb: null };
    const DEFAULT_MATRIX = { sb: null, rb: null };

    const DEFAULT_QUICK = {
      hideAvoid: true,
      onlyOK: false,
      onlyAvoid: false,
      onlyNA: false,
      onlyERR: false,
      trendOK: false,
      onlyTrendFail: false,
      liqOK: false,
      onlyLiqFail: false,
      onlyStock: false,
      onlyCrypto: false,
    };

    const STORAGE_KEY = 'scanner_vnext.ui_state.v1';

    function loadState() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) return null;
        const st = JSON.parse(raw);
        return (st && typeof st === 'object') ? st : null;
      } catch (e) {
        return null;
      }
    }

    function saveState() {
      try {
        const st = {
          preset: activePreset,
          search: elSearch ? (elSearch.value || '') : '',
          quick: quick,
          matrix: matrix,
          sort: userSort,
          cluster: clusterPick,
          pillar: pillarPick,
          marketVisible: marketVisible,
          heatMode: heatMode,
        };
        localStorage.setItem(STORAGE_KEY, JSON.stringify(st));
      } catch (e) {}
    }

    function clearState() {
      try { localStorage.removeItem(STORAGE_KEY); } catch (e) {}
    }

    function syncFilterButtons() {
      const fb = document.getElementById('filters');
      if (!fb) return;
      fb.querySelectorAll('button.fbtn').forEach(b => {
        const kk = b.getAttribute('data-f');
        if (!kk || kk === 'reset') return;
        const on = !!quick[kk];
        if (on) b.classList.add('active'); else b.classList.remove('active');
      });
    }

    

    // KPI chips: click to toggle quick-filters (intuitive)
    if (elKpis) {
      elKpis.addEventListener('click', (ev) => {
        const t = ev.target;
        if (!(t instanceof HTMLElement)) return;
        const k = t.getAttribute('data-kpi');
        if (!k) return;
        ev.preventDefault();
        toggleKpi(k);
      });
      elKpis.addEventListener('keydown', (ev) => {
        const t = ev.target;
        if (!(t instanceof HTMLElement)) return;
        const k = t.getAttribute('data-kpi');
        if (!k) return;
        if (ev.key === 'Enter' || ev.key === ' ') {
          ev.preventDefault();
          toggleKpi(k);
        }
      });
    }
function resetAll() {
      activePreset = (PRESETS && PRESETS.ALL) ? 'ALL' : ((PRESETS && PRESETS.CORE) ? 'CORE' : (Object.keys(PRESETS || {})[0] || 'CORE'));
      userSort = null;
      quick = Object.assign({}, DEFAULT_QUICK);
      matrix = Object.assign({}, DEFAULT_MATRIX);
      if (elSearch) elSearch.value = '';
      clusterPick = '';
      if (elClusterSel) elClusterSel.value = '';
      pillarPick = '';
      if (elPillarSel) elPillarSel.value = '';
      if (elPreset) elPreset.value = activePreset;
      syncFilterButtons();
      clearState();
      refresh();
    }

    // ---- info popover (Preset â†’ Quick-Filter) ----
    function closeInfoPopover() {
      if (!infoPopover) return;
      infoPopover.classList.remove('show');
      infoPopover.setAttribute('aria-hidden', 'true');
      if (infoFlow) infoFlow.setAttribute('aria-expanded', 'false');
    }

    function openInfoPopover() {
      if (!infoPopover || !infoFlow) return;
      infoPopover.classList.add('show');
      infoPopover.setAttribute('aria-hidden', 'false');
      infoFlow.setAttribute('aria-expanded', 'true');

      // position under the button
      const r = infoFlow.getBoundingClientRect();
      const pad = 12;
      // ensure we can measure width
      const w = infoPopover.offsetWidth || 360;
      const leftMax = window.scrollX + window.innerWidth - w - pad;
      const left = Math.max(window.scrollX + pad, Math.min(window.scrollX + r.left, leftMax));
      const top = window.scrollY + r.bottom + 8;
      infoPopover.style.left = `${left}px`;
      infoPopover.style.top = `${top}px`;
    }

    function toggleInfoPopover() {
      if (!infoPopover) return;
      const open = infoPopover.classList.contains('show');
      if (open) closeInfoPopover();
      else openInfoPopover();
    }

    // Try restoring last UI state
    (function restoreState() {
      const st = loadState();
      if (!st) return;

      const p = (st.preset || '').toString();
      if (p && PRESETS && PRESETS[p]) activePreset = p;

      if (elSearch && st.search !== undefined) {
        elSearch.value = (st.search || '').toString();
      }

      if (st.cluster !== undefined && st.cluster !== null) {
        clusterPick = (st.cluster || '').toString();
      }

      if (st.pillar !== undefined && st.pillar !== null) {
        pillarPick = (st.pillar || '').toString();
      }

if (st.marketVisible !== undefined && st.marketVisible !== null) {
  marketVisible = !!st.marketVisible;
}
if (st.heatMode !== undefined && st.heatMode !== null) {
  const hm = (st.heatMode || '').toString();
  heatMode = (hm === 'cluster' || hm === 'pillar') ? hm : heatMode;
}


      if (st.quick && typeof st.quick === 'object') {
        quick = Object.assign({}, DEFAULT_QUICK, st.quick);
      }

      if (st.matrix && typeof st.matrix === 'object') {
        const sb = (st.matrix.sb === null || st.matrix.sb === undefined) ? null : Number(st.matrix.sb);
        const rb = (st.matrix.rb === null || st.matrix.rb === undefined) ? null : Number(st.matrix.rb);
        matrix = Object.assign({}, DEFAULT_MATRIX, {sb: Number.isFinite(sb) ? sb : null, rb: Number.isFinite(rb) ? rb : null});
      }

      if (st.sort && typeof st.sort === 'object' && st.sort.k) {
        const k = (st.sort.k || '').toString();
        const dir = ((st.sort.dir || 'desc').toString().toLowerCase() === 'asc') ? 'asc' : 'desc';
        if (k) userSort = {k, dir};
      }
    })();


// ---- market context toggle (UI-only; must not affect scoring) ----
function setMarketVisible(on) {
  try {
    if (elMarketBody) elMarketBody.style.display = on ? 'grid' : 'none';
    if (btnMarketToggle) btnMarketToggle.textContent = on ? 'Ausblenden' : 'Einblenden';
  } catch (e) {}
}

// apply restored state
if (elHeatMode) elHeatMode.value = heatMode;
setMarketVisible(marketVisible);

if (btnMarketToggle) {
  btnMarketToggle.addEventListener('click', () => {
    marketVisible = !marketVisible;
    setMarketVisible(marketVisible);
    saveState();
  });
}

if (elHeatMode) {
  elHeatMode.addEventListener('change', () => {
    const v = (elHeatMode.value || '').toString();
    heatMode = (v === 'cluster' || v === 'pillar') ? v : heatMode;
    saveState();
    refresh();
  });
}

    // ---- helpers ----
    function asNum(v) {
      const n = Number(v);
      return Number.isFinite(n) ? n : null;
    }
    function asBool(v) {
      if (v === true || v === false) return v;
      if (v === 1 || v === 0) return !!v;
      const s = (v ?? '').toString().trim().toLowerCase();
      if (['true','t','yes','y','1'].includes(s)) return true;
      if (['false','f','no','n','0'].includes(s)) return false;
      return null;
    }
    function normStr(v) {
      return (v ?? '').toString().trim();
    }

    // HTML-Listen-Konvertierung fÃ¼r Briefing (bessere Mobile Darstellung)
    function briefingEscape(v){
      return String(v)
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#39;");
    }

    function briefingToHtml(text){
      const lines = (text || "").split(/\r?\n/);
      let out = "";
      let inUl = false;

      const closeUl = ()=>{ if(inUl){ out += "</ul>"; inUl=false; } };

      for(const raw of lines){
        const line = raw.replace(/\s+$/,"");
        if(!line){ closeUl(); out += "<div class='spacer'></div>"; continue; }

        const m = line.match(/^\s*-\s+(.*)$/);
        if(m){
          if(!inUl){ out += "<ul>"; inUl=true; }
          out += '<li>' + briefingEscape(m[1]) + '</li>';
          continue;
        }

        closeUl();

        if(/^\d+\)\s/.test(line)){
          out += '<h4 class="briefing-asset">' + briefingEscape(line) + '</h4>';
        } else if(/^(Gr????nde|Risiken\/Flags|N????chste Checks|Kontext-Hinweise)/.test(line)){
          out += '<div class="briefing-label">' + briefingEscape(line).replace(/:$/, "") + '</div>';
        } else {
          out += '<p>' + briefingEscape(line) + '</p>';
        }
      }
      closeUl();
      return out;
    }


// ---- disclaimer (UI-only) ----
(function initDisclaimer() {
  try {
    if (!elDisclaimer || !btnDiscOk) return;
    const DK = 'scanner_vnext.disclaimer_ok.v1';
    const ok = (sessionStorage.getItem(DK) || '') === '1';
    if (ok) { elDisclaimer.style.display = 'none'; return; }
    btnDiscOk.addEventListener('click', () => {
      try { sessionStorage.setItem(DK, '1'); } catch(e) {}
      elDisclaimer.style.display = 'none';
    });
  } catch (e) {}
})();

// ---- cluster / sektor helpers (UI-only; never affects scoring) ----
function clusterLabel(r) {
  const isC = asBool(r.is_crypto) === true;
  if (isC) return 'Krypto';
  const derived = normStr(r.cluster_official);
  const industry = normStr(r.industry) || normStr(r.Industry);
  const sector = normStr(r.sector) || normStr(r.Sector);
  return derived || industry || sector || '';
}

function computeClusterCounts(rows) {
  const m = new Map();
  for (const r of rows || []) {
    const c = clusterLabel(r);
    if (!c) continue;
    m.set(c, (m.get(c) || 0) + 1);
  }
  const arr = Array.from(m.entries()).map(([k,v]) => ({k, v}));
  arr.sort((a,b) => b.v - a.v || a.k.localeCompare(b.k));
  return arr;
}

function renderClusterOptions(counts) {
  if (!elClusterSel) return;
  const cur = clusterPick || '';
  elClusterSel.innerHTML = '';
  const opt0 = document.createElement('option');
  opt0.value = '';
  opt0.textContent = 'Alle';
  elClusterSel.appendChild(opt0);
  for (const x of counts) {
    const opt = document.createElement('option');
    opt.value = x.k;
    opt.textContent = `${x.k} (${x.v})`;
    elClusterSel.appendChild(opt);
  }
  elClusterSel.value = cur;
}

function renderClusterChips(counts) {
  if (!elClusters) return;
  const top = (counts || []).slice(0, 12);
  const active = clusterPick || '';
  let html = '<span class="label">Cluster:</span>';
  if (active) {
    html += `<button type="button" class="chip kpi warn active" data-clr="1" title="Cluster-Filter lÃ¶schen">âœ• ${esc(active)}</button>`;
  }
  for (const x of top) {
    const isOn = active && x.k === active;
    const kind = isOn ? 'warn active' : 'blue';
    html += `<button type="button" class="chip kpi ${kind}" data-cl="${esc(x.k)}" title="Filter: nur Cluster ${esc(x.k)}">${esc(x.k)} <span class="mono">(${x.v})</span></button>`;
  }
  if (!top.length) html += '<span class="muted">â€”</span>';
  elClusters.innerHTML = html;
}

function applyClusterFilter(rows) {
  const sel = (clusterPick || '').toString().trim();
  if (!sel) return rows;
  return (rows || []).filter(r => clusterLabel(r) === sel);
}

// ---- 5â€‘SÃ¤ulen / Playground helpers (UI-only; private metadata; never affects scoring) ----
const PILLAR_ORDER = ['Gehirn','Hardware','Energie','Fundament','Recycling','Playground'];

function _derivePillarFromLegacy(catRaw) {
  const cat = (catRaw || '').toString().trim();
  if (!cat) return '';
  const s = cat.toLowerCase();
  // Playground / experiments
  if (s.includes('experiment') || s.includes('playground') || s.includes('spielplatz') || s.includes('play')) return 'Playground';
  // explicit pillar names
  if (s.includes('gehirn')) return 'Gehirn';
  if (s.includes('hardware')) return 'Hardware';
  if (s.includes('energie') || s.includes('uran')) return 'Energie';
  if (s.includes('fundament')) return 'Fundament';
  if (s.includes('recycling') || s.includes('urban mining') || s.includes('urban-mining')) return 'Recycling';
  // legacy mining buckets â†’ Fundament
  if (s.includes('mining') || s.includes('mine') || s.includes('edelmetall') || s.includes('metall') || s.includes('rohstoff')) return 'Fundament';
  // ambiguous tech buckets â†’ Gehirn (default), hardware-specific keywords â†’ Hardware
  if (s.includes('robot') || s.includes('automation') || s.includes('sensor') || s.includes('vision') || s.includes('machine')) return 'Hardware';
  if (s.includes('software') || s.includes('internet') || s.includes('ki') || s.includes('ai') || s.includes('data') || s.includes('cloud') || s.includes('chip') || s.includes('semiconductor')) return 'Gehirn';
  return '';
}

function pillarLabel(r) {
  const p = normStr(r.pillar_primary);
  if (p) return p;
  // fallback for older universes: derive from legacy categories so the concept is still visible in UI
  const legacy = normStr(r.Sektor) || normStr(r.category);
  return _derivePillarFromLegacy(legacy);
}

function computePillarCounts(rows) {
  const m = new Map();
  for (const k of PILLAR_ORDER) m.set(k, 0);
  for (const r of rows || []) {
    const p = pillarLabel(r);
    if (!p) continue;
    m.set(p, (m.get(p) || 0) + 1);
  }
  const arr = Array.from(m.entries()).map(([k,v]) => ({k, v}));
  // stable order
  arr.sort((a,b) => PILLAR_ORDER.indexOf(a.k) - PILLAR_ORDER.indexOf(b.k));
  return arr;
}

function renderPillarOptions(counts) {
  if (!elPillarSel) return;
  const cur = pillarPick || '';
  elPillarSel.innerHTML = '';
  const opt0 = document.createElement('option');
  opt0.value = '';
  opt0.textContent = 'Alle';
  elPillarSel.appendChild(opt0);
  for (const x of (counts || [])) {
    // keep all options visible even if zero to make the model explicit
    const opt = document.createElement('option');
    opt.value = x.k;
    opt.textContent = `${x.k} (${x.v})`;
    elPillarSel.appendChild(opt);
  }
  elPillarSel.value = cur;
}

function renderPillarChips(counts) {
  if (!elPillars) return;
  const active = pillarPick || '';
  let html = '<span class="label">SÃ¤ulen:</span>';
  if (active) {
    html += `<button type="button" class="chip kpi warn active" data-pr="1" title="SÃ¤ulen-Filter lÃ¶schen">âœ• ${esc(active)}</button>`;
  }
  for (const x of (counts || [])) {
    const isOn = active && x.k === active;
    const kind = isOn ? 'warn active' : 'blue';
    const dis = (x.v || 0) <= 0 ? 'disabled aria-disabled="true"' : '';
    html += `<button type="button" class="chip kpi ${kind}" data-p="${esc(x.k)}" ${dis} title="Filter: nur SÃ¤ule ${esc(x.k)}">${esc(x.k)} <span class="mono">(${x.v})</span></button>`;
  }
  elPillars.innerHTML = html;
}

function applyPillarFilter(rows) {
  const sel = (pillarPick || '').toString().trim();
  if (!sel) return rows;
  return (rows || []).filter(r => pillarLabel(r) === sel);
}

    function percentileRank(sorted, v) {
      // sorted: ascending array, v: number
      if (!sorted || sorted.length === 0 || v === null || v === undefined) return null;
      const n = sorted.length;
      if (n === 1) return 100.0;
      // upper bound index
      let lo = 0, hi = n;
      while (lo < hi) {
        const mid = (lo + hi) >> 1;
        if (sorted[mid] <= v) lo = mid + 1;
        else hi = mid;
      }
      const idx = Math.max(0, Math.min(n - 1, lo - 1));
      return (idx / (n - 1)) * 100.0;
    }

    function riskRaw(r) {
      const v = asNum(r.volatility);
      if (v !== null) return Math.abs(v);
      const dsd = asNum(r.downside_dev);
      if (dsd !== null) return Math.abs(dsd);
      const dd = asNum(r.max_drawdown);
      if (dd !== null) return Math.abs(dd);
      return null;
    }

    // Precompute score / risk percentiles for stable buckets & signal codes
    const SCORE_SORTED = DATA.map(r => asNum(r.score)).filter(v => v !== null).sort((a,b) => a-b);
    const RISK_SORTED = DATA.map(r => riskRaw(r)).filter(v => v !== null).sort((a,b) => a-b);

    for (const r of DATA) {
      r.score_pctl = percentileRank(SCORE_SORTED, asNum(r.score));
      r.risk_raw = riskRaw(r);
      r.risk_pctl = percentileRank(RISK_SORTED, r.risk_raw);
    }

    function scoreBucket(score) {
      const s = Math.max(0, Math.min(100, asNum(score) ?? 0));
      return Math.min(4, Math.floor(s / 20));
    }
    function riskBucket(pctl) {
      const p = Math.max(0, Math.min(100, asNum(pctl) ?? 0));
      return Math.min(4, Math.floor(p / 20));
    }

    function bucketRange(i) {
      const a = i * 20;
      const b = (i === 4) ? 100 : (i + 1) * 20;
      return `${a}â€“${b}`;
    }
    function scoreBucketText(i) {
      return { range: bucketRange(i), hint: 'Score' };
    }
    function riskBucketText(i) {
      const hints = ['niedrig', 'moderat', 'mittel', 'hoch', 'sehr hoch'];
      return { range: bucketRange(i), hint: `Risk ${hints[i] || ''}`.trim() };
    }


    function fmtPrice(n) {
      if (n === null || n === undefined) return 'â€”';
      const ax = Math.abs(n);
      let maxFrac = 2;
      if (ax < 1) maxFrac = 4;
      if (ax < 0.1) maxFrac = 6;
      try {
        return n.toLocaleString('de-DE', { maximumFractionDigits: maxFrac });
      } catch (e) {
        return n.toFixed(maxFrac);
      }
    }

    function perfLine(p) {
      if (p === null || p === undefined) return '<div class="sub muted">â€”</div>';
      const dir = (p > 0) ? 'pos' : (p < 0) ? 'neg' : 'flat';
      const arrow = (p > 0) ? 'â–²' : (p < 0) ? 'â–¼' : 'â€¢';
      return `<div class="sub chg ${dir}">${arrow} ${p.toFixed(2)}%</div>`;
    }

    function looksLikeISIN(s) {
      s = normStr(s);
      return /^[A-Z]{2}[A-Z0-9]{9}[0-9]$/.test(s);
    }

    function pickYahooSymbol(r) {
      // Used as fetch/link key for Yahoo Finance.
      // For crypto we prefer the trading pair (e.g. BTC-USD, ETH-EUR).
      const isC = asBool(r.is_crypto) === true;
      const cand = [
        r.yahoo_symbol, r.YahooSymbol, r.yahooSymbol, r.Yahoo, r.yahoo,
        r.symbol, r.Symbol, r.ticker_display, r.ticker
      ];
      let best = '';
      for (const c of cand) {
        const s = normStr(c);
        if (!s) continue;
        if (looksLikeISIN(s)) continue;
        if (isC) {
          if (s.includes('-')) return s; // perfect
          best = best || s;
        } else {
          return s;
        }
      }
      if (isC) {
        const base = normStr(r.crypto_base) || normStr(r.ticker_display) || best;
        const qc = normStr(r.quote_currency) || normStr(r.currency) || '';
        if (base && qc && !base.includes('-')) return `${base}-${qc}`;
        return best;
      }
      return '';
    }

    function pickDisplayTicker(r) {
      // Prefer human-friendly display symbol.
      // - crypto: ticker_display is usually the base asset (ADA)
      // - stocks: ticker_display is the refined ticker (Symbol/YahooSymbol fallback)
      let td = normStr(r.ticker_display);
      if (!td || looksLikeISIN(td)) {
        const s = normStr(r.yahoo_symbol) || normStr(r.YahooSymbol) || normStr(r.Yahoo) || normStr(r.symbol) || normStr(r.Symbol) || normStr(r.ticker);
        if (s && !looksLikeISIN(s)) td = s;
      }
      const t = normStr(r.ticker);
      if (td) return td;
      return looksLikeISIN(t) ? '' : t;
    }

    function pickDisplaySymbol(r) {
      const isC = asBool(r.is_crypto) === true;
      if (isC) {
        const pair = pickYahooSymbol(r);
        const base = normStr(r.crypto_base) || normStr(r.ticker_display);
        if (base && !looksLikeISIN(base)) return base;
        if (pair && pair.includes('-')) return pair.split('-')[0];
        const s = normStr(r.symbol) || normStr(r.Symbol);
        if (s && !looksLikeISIN(s)) return s;
        return pair || pickDisplayTicker(r) || 'â€”';
      }
      const s = normStr(r.symbol) || normStr(r.Symbol);
      if (s && !looksLikeISIN(s)) return s;
      const td = normStr(r.ticker_display);
      if (td && !looksLikeISIN(td)) return td;
      const yh = pickYahooSymbol(r);
      if (yh && !looksLikeISIN(yh)) return yh;
      const t = normStr(r.ticker);
      if (t && !looksLikeISIN(t)) return t;
      return 'â€”';
    }


    function yahooHref(sym) {
      const s = normStr(sym);
      if (!s || looksLikeISIN(s)) return '';
      return 'https://finance.yahoo.com/quote/' + encodeURIComponent(s);
    }

    function esc(v) {
      return (v ?? '').toString()
        .replaceAll('&','&amp;')
        .replaceAll('<','&lt;')
        .replaceAll('>','&gt;')
        .replaceAll('"','&quot;')
        .replaceAll("'",'&#39;');
    }

    function chip(text, kind, title) {
      const cls = kind ? `chip ${kind}` : 'chip';
      const t = title ? ` title="${esc(title)}"` : '';
      return `<span class="${cls}"${t}>${text}</span>`;
    }

    function kpiChip(text, kind, title, key, active) {
      const cls = `chip kpi ${kind || ''} ${active ? 'active' : ''}`.trim().replace(/\s+/g,' ');
      const t = title ? ` title="${esc(title)}"` : '';
      const k = key ? ` data-kpi="${esc(key)}"` : '';
      return `<button type="button" class="${cls}"${k}${t} aria-pressed="${active ? 'true' : 'false'}">${text}</button>`;
    }

    function recFor(r) {
      const st = normStr(r.score_status);
      if (st === 'NA' || st === 'ERROR') return {code: 'R?', cls: 'bad'};
      if (st && st.startsWith('AVOID')) return {code: 'R0', cls: 'warn'};

      const p = asNum(r.score_pctl);
      const tr = asBool(r.trend_ok) === true;
      const liq = asBool(r.liquidity_ok) === true;

      if (p !== null && p >= 90 && tr && liq) return {code: 'R5', cls: 'good'};
      if (p !== null && p >= 75 && liq) return {code: 'R4', cls: 'good'};
      if (p !== null && p >= 45) return {code: 'R3', cls: 'blue'};
      if (p !== null && p >= 20) return {code: 'R2', cls: 'warn'};
      return {code: 'R1', cls: 'bad'};
    }

    function scoreCell(r) {
      const s = Math.max(0, Math.min(100, asNum(r.score) ?? 0));
      const rec = recFor(r);
      const sig = rec ? `<span class="sig ${rec.cls}" title="Signalâ€‘Code">${esc(rec.code)}</span>` : '';
      return `<div class="scorecell"><div class="scorebar"><div style="width:${s}%;"></div></div><span class="mono">${s.toFixed(2)}</span>${sig}</div>`;
    }

    // ---- preset logic (mirrors scanner.presets.apply) ----
    function applyFilters(rows, preset) {
      const filters = preset.filters || [];
      if (!Array.isArray(filters) || filters.length === 0) return rows;

      return rows.filter(r => {
        for (const f of filters) {
          const field = f.field || f.key || f.name;
          if (!field) continue;
          const onMissing = (f.on_missing || 'skip').toLowerCase();
          const v = r[field];
          const missing = (v === null || v === undefined || v === '');
          if (missing) {
            if (onMissing === 'skip') continue;
            return false;
          }

          if (f.min !== undefined || f.max !== undefined) {
            const n = asNum(v);
            if (n === null) {
              if (onMissing === 'skip') continue;
              return false;
            }
            if (f.min !== undefined && n < Number(f.min)) return false;
            if (f.max !== undefined && n > Number(f.max)) return false;
          }

          if (f.eq !== undefined) {
            const target = f.eq;
            // bool-aware compare
            if (typeof target === 'boolean') {
              const b = asBool(v);
              if (b === null) return false;
              if (b !== target) return false;
            } else {
              if (v !== target) return false;
            }
          }

          if (Array.isArray(f.in)) {
            if (!f.in.includes(v)) return false;
          }
        }
        return true;
      });
    }

    function parseSortSpecs(specs) {
      if (!Array.isArray(specs)) return [];
      return specs.map(s => {
        const parts = (s || '').split(':');
        const k = parts[0];
        const dir = (parts[1] || 'desc').toLowerCase() === 'asc' ? 'asc' : 'desc';
        return {k, dir};
      }).filter(x => x.k);
    }

    function compareBy(specs) {
      return (a, b) => {
        for (const s of specs) {
          const ka = a[s.k];
          const kb = b[s.k];

          // number first
          const na = asNum(ka);
          const nb = asNum(kb);
          let c = 0;
          if (na !== null && nb !== null) {
            c = na === nb ? 0 : (na < nb ? -1 : 1);
          } else {
            // bool
            const ba = asBool(ka);
            const bb = asBool(kb);
            if (ba !== null && bb !== null) {
              c = (ba === bb) ? 0 : (ba ? 1 : -1);
            } else {
              // string
              const sa = normStr(ka).toLowerCase();
              const sb = normStr(kb).toLowerCase();
              c = sa === sb ? 0 : (sa < sb ? -1 : 1);
            }
          }

          if (c !== 0) return s.dir === 'asc' ? c : -c;
        }
        return 0;
      };
    }

    function applyPreset(rows, presetName) {
      const preset = PRESETS[presetName] || PRESETS.CORE || {filters:[], sort:[], limit:200};
      let out = rows.slice();
      out = applyFilters(out, preset);

      const specs = parseSortSpecs(preset.sort || []);
      const eff = (specs.length > 0) ? specs : DEFAULT_SORT;
      out.sort(compareBy(eff));

      const limit = Number(preset.limit || 0);
      if (Number.isFinite(limit) && limit > 0) out = out.slice(0, limit);

      return {rows: out, preset};
    }

    function applySearch(rows, q) {
      q = (q || '').trim().toLowerCase();
      if (!q) return rows;
      const tokens = q.split(/\s+/).filter(Boolean);
      return rows.filter(r => {
        const hay = [r.ticker, r.ticker_display, r.yahoo_symbol, r.YahooSymbol, r.symbol, r.isin, r.name, r.sector, r.Sector, r.category, r.Sektor, r.Kategorie, r.Industry, r.industry, r.country, r.currency, r["WÃ¤hrung"], r.quote_currency, r.score_status]
          .map(normStr).join(' ').toLowerCase();
        return tokens.every(t => hay.includes(t));
      });
    }

    function isAvoidStatus(status) {
      const s = normStr(status);
      return s === 'AVOID' || s.startsWith('AVOID_');
    }

    function summarize(rows) {
      const out = {total:0, ok:0, avoid:0, na:0, error:0, trendFail:0, liqFail:0, crypto:0, stock:0};
      out.total = rows.length;
      for (const r of rows) {
        const st = normStr(r.score_status);
        if (st === 'OK') out.ok++;
        else if (isAvoidStatus(st)) out.avoid++;
        else if (st === 'NA') out.na++;
        else if (st === 'ERROR') out.error++;

        if (asBool(r.trend_ok) === false) out.trendFail++;
        if (asBool(r.liquidity_ok) === false) out.liqFail++;

        const isC = asBool(r.is_crypto) === true;
        if (isC) out.crypto++; else out.stock++;
      }
      return out;
    }

    function renderKpis(allRows, visibleRows) {
      if (!elKpis) return;
      const a = summarize(allRows);
      const v = summarize(visibleRows);

      // KPI chips double as quick filters (intuitive). Preset applies first, then search, then quick filters.
      elKpis.innerHTML =
        `<span class="label">KPI</span>`
        + kpiChip(`Sichtbar ${v.total}/${a.total}`, 'blue', 'Sichtbar nach Preset â†’ Suche â†’ Quick-Filter / Gesamt', '', false)
        + kpiChip(`OK ${v.ok}`, 'good', 'Filter: nur score_status == OK', 'ok', !!quick.onlyOK)
        + kpiChip(`AVOID ${v.avoid}`, 'warn', 'Filter: nur score_status beginnt mit AVOID_', 'avoid', !!quick.onlyAvoid)
        + kpiChip(`NA ${v.na}`, 'bad', 'Filter: nur score_status == NA', 'na', !!quick.onlyNA)
        + kpiChip(`ERR ${v.error}`, 'bad', 'Filter: nur score_status == ERROR', 'err', !!quick.onlyERR)
        + kpiChip(`TrendFail ${v.trendFail}`, v.trendFail ? 'warn' : 'good', 'Filter: nur trend_ok == false', 'trendFail', !!quick.onlyTrendFail)
        + kpiChip(`LiqFail ${v.liqFail}`, v.liqFail ? 'warn' : 'good', 'Filter: nur liquidity_ok == false', 'liqFail', !!quick.onlyLiqFail)
        + kpiChip(`Aktien ${v.stock}`, 'blue', 'Filter: nur is_crypto == false', 'stock', !!quick.onlyStock)
        + kpiChip(`Krypto ${v.crypto}`, 'warn', 'Filter: nur is_crypto == true', 'crypto', !!quick.onlyCrypto);
    }

    
    function toggleKpi(key) {
      key = (key || '').toString();
      // mutually exclusive groups
      const clearStatus = () => { quick.onlyOK=false; quick.onlyAvoid=false; quick.onlyNA=false; quick.onlyERR=false; };
      const clearTrend = () => { quick.trendOK=false; quick.onlyTrendFail=false; };
      const clearLiq = () => { quick.liqOK=false; quick.onlyLiqFail=false; };

      if (key === 'ok') {
        const nv = !quick.onlyOK;
        clearStatus();
        quick.onlyOK = nv;
      } else if (key === 'avoid') {
        const nv = !quick.onlyAvoid;
        clearStatus();
        quick.onlyAvoid = nv;
        if (nv) quick.hideAvoid = false; // show avoid when filtering for it
      } else if (key === 'na') {
        const nv = !quick.onlyNA;
        clearStatus();
        quick.onlyNA = nv;
      } else if (key === 'err') {
        const nv = !quick.onlyERR;
        clearStatus();
        quick.onlyERR = nv;
      } else if (key === 'trendFail') {
        const nv = !quick.onlyTrendFail;
        clearTrend();
        quick.onlyTrendFail = nv;
      } else if (key === 'liqFail') {
        const nv = !quick.onlyLiqFail;
        clearLiq();
        quick.onlyLiqFail = nv;
      } else if (key === 'stock') {
        quick.onlyStock = !quick.onlyStock;
        if (quick.onlyStock) quick.onlyCrypto = false;
      } else if (key === 'crypto') {
        quick.onlyCrypto = !quick.onlyCrypto;
        if (quick.onlyCrypto) quick.onlyStock = false;
      }

      syncFilterButtons();
      saveState();
      refresh();
    }

function applyQuickFilters(rows) {
      return rows.filter(r => {
        const status = normStr(r.score_status);
        const isAvoid = isAvoidStatus(status);

        // status-only filters (from KPI chips)
        if (quick.onlyOK && status !== 'OK') return false;
        if (quick.onlyAvoid && !isAvoid) return false;
        if (quick.onlyNA && status !== 'NA') return false;
        if (quick.onlyERR && status !== 'ERROR') return false;

        // Hide AVOID applies only when we're not explicitly filtering for AVOID
        if (quick.hideAvoid && !quick.onlyAvoid && isAvoid) return false;

        // pass/fail filters
        if (quick.trendOK && asBool(r.trend_ok) !== true) return false;
        if (quick.onlyTrendFail && asBool(r.trend_ok) !== false) return false;

        if (quick.liqOK && asBool(r.liquidity_ok) !== true) return false;
        if (quick.onlyLiqFail && asBool(r.liquidity_ok) !== false) return false;

        // class filters
        const isCrypto = asBool(r.is_crypto) === true;
        if (quick.onlyCrypto && !isCrypto) return false;
        if (quick.onlyStock && isCrypto) return false;
        return true;
      });
    }

    function applyMatrixFilter(rows) {
      const sb = (matrix && matrix.sb !== undefined) ? matrix.sb : null;
      const rb = (matrix && matrix.rb !== undefined) ? matrix.rb : null;
      if (sb === null && rb === null) return rows;
      return rows.filter(r => {
        const okS = (sb === null) ? true : (scoreBucket(r.score) === sb);
        const okR = (rb === null) ? true : (riskBucket(r.risk_pctl) === rb);
        return okS && okR;
      });
    }

    function renderMatrix(rows) {
      if (!elMatrix) return;

      // Grid layout: rows = Risk buckets (y), cols = Score buckets (x)
      const counts = Array.from({length: 5}, () => Array(5).fill(0)); // [rb][sb]
      for (const r of rows) {
        const sb = scoreBucket(r.score);
        const rb = riskBucket(r.risk_pctl);
        counts[rb][sb] += 1;
      }

      const parts = [];
      // header row: Score buckets (x). Corner shows axis directions.
      parts.push(`<div class="matrixAxis" title="Achsen: Risk (y) Ã— Score (x)"><div class="lbl">Risk â†“</div><div class="hint">Score â†’</div></div>`);
      for (let sb = 0; sb < 5; sb++) {
        const s = scoreBucketText(sb);
        parts.push(`<div class="matrixLabel" title="Scoreâ€‘Bucket"><div class="lbl">${esc(s.range)}</div><div class="hint">${esc(s.hint)}</div></div>`);
      }

      for (let rb = 0; rb < 5; rb++) {
        const rtxt = riskBucketText(rb);
        parts.push(`<div class="matrixLabel" title="Riskâ€‘Bucket (Perzentil; hÃ¶her = riskanter)"><div class="lbl">${esc(rtxt.range)}</div><div class="hint">${esc(rtxt.hint)}</div></div>`);
        for (let sb = 0; sb < 5; sb++) {
          const c = counts[rb][sb] || 0;
          const active = (matrix && matrix.sb === sb && matrix.rb === rb) ? 'active' : '';
          const zero = c === 0 ? 'zero' : '';

          // Subtle gradient: best area (high score / low risk) tends green; worst tends red.
          const val = sb - rb; // -4..+4
          const hue = Math.max(15, Math.min(150, Math.round(80 + val * 15)));
          const alpha = 0.10;
          const bg = `background: hsla(${hue}, 70%, 45%, ${alpha});`;

          const st = `style="${bg}"`;
          const s = scoreBucketText(sb);
          const rr = riskBucketText(rb);

          parts.push(`<div class="cell ${active} ${zero}" ${st} data-sb="${sb}" data-rb="${rb}" title="Score ${esc(s.range)} Â· Risk ${esc(rr.hint)}">${c ? `<span class="cnt">${c}</span>` : `<span class="cnt">Â·</span>`}</div>`);
        }
      }

      elMatrix.innerHTML = parts.join('');

      // Click â†’ toggle matrix filter
      elMatrix.querySelectorAll('.cell').forEach(cell => {
        cell.addEventListener('click', () => {
          if (cell.classList.contains('zero')) return;
          const sb = Number(cell.getAttribute('data-sb'));
          const rb = Number(cell.getAttribute('data-rb'));
          if (matrix.sb === sb && matrix.rb === rb) {
            matrix = Object.assign({}, DEFAULT_MATRIX);
          } else {
            matrix = {sb, rb};
          }
          refresh();
          saveState();
        });
      });

      const sb = (matrix && matrix.sb !== undefined) ? matrix.sb : null;
      const rb = (matrix && matrix.rb !== undefined) ? matrix.rb : null;
      if (elMatrixNote) {
        const metric = (RISK_SORTED && RISK_SORTED.length) ? 'Riskâ€‘Proxy aus volatility/downside_dev/max_drawdown (Perzentil)' : 'Riskâ€‘Proxy fehlt (keine Riskâ€‘Spalten im CSV)';
        const sel = (sb !== null && rb !== null) ? ` Â· aktiv: Score ${bucketRange(sb)} Ã— ${riskBucketText(rb).hint}` : '';
        elMatrixNote.textContent = metric + sel;
      }
    }

// ---- Market Context (passive; derived from current universe; no scoring influence) ----
function parsePct(v) {
  if (v === null || v === undefined) return null;
  if (typeof v === 'number' && Number.isFinite(v)) return v;
  let s = String(v).trim();
  if (!s) return null;
  s = s.replace('%','').replace(/\s+/g,'').replace(',', '.');
  const n = Number(s);
  return Number.isFinite(n) ? n : null;
}

function perfPct(r) {
  return parsePct(
    r.perf_pct ?? r['Perf %'] ?? r['Change %'] ?? r.change_pct ?? r.changePercent ?? r.PerfPct
  );
}

function fmtRatioPct(v) {
  const n = asNum(v);
  if (n === null) return 'â€”';
  return `${(n * 100).toFixed(2)}%`;
}

function fmtPct(v) {
  if (v === null || v === undefined || !Number.isFinite(v)) return 'â€”';
  const s = (v >= 0 ? '+' : '') + v.toFixed(2) + '%';
  return s;
}

function quantile(sortedVals, q) {
  if (!Array.isArray(sortedVals) || !sortedVals.length) return null;
  if (sortedVals.length === 1) return sortedVals[0];
  const qq = Math.max(0, Math.min(1, Number(q) || 0));
  const pos = (sortedVals.length - 1) * qq;
  const lo = Math.floor(pos);
  const hi = Math.ceil(pos);
  if (lo === hi) return sortedVals[lo];
  const w = pos - lo;
  return sortedVals[lo] * (1 - w) + sortedVals[hi] * w;
}

function renderBreadth(rows) {
  if (!elBreadthBox) return;
  let adv = 0, dec = 0, flat = 0, miss = 0;
  for (const r of rows || []) {
    const p = perfPct(r);
    if (p === null) { miss++; continue; }
    if (p > 0) adv++;
    else if (p < 0) dec++;
    else flat++;
  }
  const tot = adv + dec + flat;
  if (!tot) {
    elBreadthBox.innerHTML = `<div class="muted">Keine verwertbare TagesÃ¤nderung (Perf %) im aktuellen Universe.</div>`;
    return;
  }
  const pct = (x) => (tot ? Math.round((x / tot) * 100) : 0);

  const row = `
    <div class="breadthRow">
      ${chip(`Adv ${adv} (${pct(adv)}%)`, adv ? 'good' : 'blue')}
      ${chip(`Dec ${dec} (${pct(dec)}%)`, dec ? 'bad' : 'blue')}
      ${chip(`Flat ${flat}`, flat ? 'blue' : 'blue')}
      ${miss ? chip(`n/a ${miss}`, 'warn') : ''}
    </div>
    <div class="muted small">Basis: <span class="mono">perf_pct / Perf %</span> (nur Anzeige/Context).</div>
  `;
  elBreadthBox.innerHTML = row;
}

function renderDiversification(rows) {
  if (!elDiversBox) return;
  const vals = (rows || []).map(r => asNum(r.diversification_penalty)).filter(v => v !== null);
  if (!vals.length) {
    elDiversBox.innerHTML = `<div class="muted">Diversifikation: keine Penalty-Daten im aktuellen CSV.</div>`;
    return;
  }

  const s = vals.slice().sort((a, b) => a - b);
  const avg = vals.reduce((a, b) => a + b, 0) / vals.length;
  const med = s[Math.floor(s.length / 2)];
  const hi = vals.filter(v => v >= 6).length;
  const lo = vals.filter(v => v <= 2).length;

  const sectorCounts = {};
  for (const r of rows || []) {
    const p = asNum(r.diversification_penalty);
    if (p === null || p < 6) continue;
    const sec = normStr(r.cluster_official) || normStr(r.sector) || normStr(r.Sector) || 'n/a';
    sectorCounts[sec] = (sectorCounts[sec] || 0) + 1;
  }
  const topSec = Object.entries(sectorCounts).sort((a, b) => b[1] - a[1]).slice(0, 2);
  const secInfo = topSec.length
    ? `Top Crowding: ${topSec.map(([k, v]) => `${esc(k)} (${v})`).join(' Â· ')}`
    : 'Top Crowding: â€”';

  elDiversBox.innerHTML = `
    <div class="breadthRow">
      ${chip(`Div Ã˜ ${avg.toFixed(2)}`, avg >= 4 ? 'warn' : 'blue')}
      ${chip(`Median ${med.toFixed(2)}`, med >= 4 ? 'warn' : 'blue')}
      ${chip(`High ${hi}`, hi ? 'bad' : 'blue')}
      ${chip(`Low ${lo}`, lo ? 'good' : 'blue')}
    </div>
    <div class="muted small">${secInfo}</div>
  `;
}

function renderQualityPanel(rows) {
  if (!elQualityBox) return;
  const n = Array.isArray(rows) ? rows.length : 0;
  if (!n) {
    elQualityBox.innerHTML = `<div class="muted">Preset-QualitÃ¤t: keine Daten.</div>`;
    return;
  }

  const scores = rows.map(r => asNum(r.score)).filter(v => v !== null).sort((a, b) => a - b);
  const confs = rows.map(r => asNum(r.confidence)).filter(v => v !== null).sort((a, b) => a - b);

  const scoreMed = quantile(scores, 0.5);
  const scoreQ1 = quantile(scores, 0.25);
  const scoreQ3 = quantile(scores, 0.75);
  const scoreIqr = (scoreQ1 !== null && scoreQ3 !== null) ? (scoreQ3 - scoreQ1) : null;

  const confMed = quantile(confs, 0.5);
  const confQ1 = quantile(confs, 0.25);
  const confQ3 = quantile(confs, 0.75);
  const confIqr = (confQ1 !== null && confQ3 !== null) ? (confQ3 - confQ1) : null;

  let trendOk = 0;
  let liqOk = 0;
  let topPctl = 0;
  let pctlDen = 0;
  for (const r of rows) {
    if (asBool(r.trend_ok) === true) trendOk++;
    if (asBool(r.liquidity_ok) === true) liqOk++;
    const p = asNum(r.score_pctl);
    if (p !== null) {
      pctlDen++;
      if (p >= 90) topPctl++;
    }
  }

  const trendShare = trendOk / n;
  const liqShare = liqOk / n;
  const topShare = pctlDen ? (topPctl / pctlDen) : 0;

  elQualityBox.innerHTML = `
    <div class="marketCardTitle" style="margin-top:2px;">Preset Quality</div>
    <div class="breadthRow">
      ${chip(`Score Med ${scoreMed === null ? 'â€”' : scoreMed.toFixed(1)}`, (scoreMed !== null && scoreMed >= 34) ? 'good' : 'blue')}
      ${chip(`Score IQR ${scoreIqr === null ? 'â€”' : scoreIqr.toFixed(1)}`, (scoreIqr !== null && scoreIqr >= 10) ? 'good' : 'warn')}
      ${chip(`Conf Med ${confMed === null ? 'â€”' : confMed.toFixed(1)}`, (confMed !== null && confMed >= 60) ? 'good' : 'warn')}
      ${chip(`Conf IQR ${confIqr === null ? 'â€”' : confIqr.toFixed(1)}`, (confIqr !== null && confIqr >= 12) ? 'blue' : 'warn')}
    </div>
    <div class="breadthRow">
      ${chip(`Trend OK ${fmtRatioPct(trendShare)}`, trendShare >= 0.7 ? 'good' : (trendShare >= 0.45 ? 'blue' : 'warn'))}
      ${chip(`Liq OK ${fmtRatioPct(liqShare)}`, liqShare >= 0.7 ? 'good' : (liqShare >= 0.45 ? 'blue' : 'warn'))}
      ${chip(`Top Pctl ${fmtRatioPct(topShare)}`, topShare >= 0.25 ? 'good' : (topShare >= 0.1 ? 'blue' : 'warn'))}
      ${chip(`N ${n}`, 'blue')}
    </div>
    <div class="muted small">Basis: aktives Preset (vor Suche/Quick/Matrix); Top Pctl = Anteil mit Score-Perzentil >= 90.</div>
  `;
}

function renderMovers(rows) {
  if (!elMoversUp || !elMoversDown) return;

  const arr = [];
  for (const r of rows || []) {
    const p = perfPct(r);
    if (p === null) continue;
    arr.push({r, p});
  }
  if (!arr.length) {
    elMoversUp.innerHTML = `<span class="muted">â€”</span>`;
    elMoversDown.innerHTML = `<span class="muted">â€”</span>`;
    return;
  }

  const up = arr.slice().sort((a,b) => b.p - a.p).filter(x => x.p > 0).slice(0, 8);
  const dn = arr.slice().sort((a,b) => a.p - b.p).filter(x => x.p < 0).slice(0, 8);

  function itemHtml(x) {
    const r = x.r;
    const sym = pickDisplaySymbol(r);
    const yh = pickYahooSymbol(r) || sym;
    const href = yahooHref(yh);
    const s = href ? `<a class="yf sym" href="${href}" target="_blank" rel="noopener">${esc(sym)}</a>` : `<span class="sym">${esc(sym)}</span>`;
    const cls = x.p > 0 ? 'pos' : (x.p < 0 ? 'neg' : 'flat');
    return `<div class="moversItem"><span class="sym">${s}</span><span class="val ${cls}">${esc(fmtPct(x.p))}</span></div>`;
  }

  elMoversUp.innerHTML = up.length ? up.map(itemHtml).join('') : `<span class="muted">â€”</span>`;
  elMoversDown.innerHTML = dn.length ? dn.map(itemHtml).join('') : `<span class="muted">â€”</span>`;
}

function renderHeatmap(rows) {
  if (!elHeatmap) return;
  const fn = (heatMode === 'cluster') ? clusterLabel : pillarLabel;

  // counts[cat][sb] -> number
  const m = new Map();
  for (const r of rows || []) {
    const cat = (fn(r) || '').toString().trim();
    if (!cat) continue;
    const sb = scoreBucket(r.score);
    if (!m.has(cat)) m.set(cat, [0,0,0,0,0]);
    m.get(cat)[sb] += 1;
  }
  if (!m.size) {
    elHeatmap.innerHTML = `<div class="muted">Keine Daten fÃ¼r Heatmap (keine Kategorie im aktuellen Universe).</div>`;
    return;
  }

  // choose top categories
  const all = Array.from(m.entries()).map(([k, arr]) => ({k, arr, tot: arr.reduce((a,b)=>a+b,0)}));
  all.sort((a,b) => b.tot - a.tot || a.k.localeCompare(b.k));
  const limit = (heatMode === 'cluster') ? 8 : 6;
  const top = all.slice(0, limit);

  let vmax = 0;
  for (const x of top) for (const v of x.arr) vmax = Math.max(vmax, v);

  const hdr = Array.from({length:5}, (_,sb) => scoreBucketText(sb).range);
  const th = hdr.map(h => `<th class="heatCell">${esc(h)}</th>`).join('');

  const rowsHtml = top.map(x => {
    const tds = x.arr.map((v, sb) => {
      const zero = v === 0 ? ' zero' : '';
      const rel = vmax ? (v / vmax) : 0;
      const alpha = 0.06 + rel * 0.28; // subtle
      const hue = 205; // blue-ish
      const bg = `background: hsla(${hue}, 70%, 50%, ${alpha});`;
      return `<td class="heatCell${zero}" style="${bg}" title="${esc(x.k)} Â· Score ${esc(hdr[sb])} = ${v}">${v ? v : 'Â·'}</td>`;
    }).join('');
    return `<tr><td class="mono">${esc(x.k)}</td>${tds}</tr>`;
  }).join('');

  elHeatmap.innerHTML = `
    <div class="heatWrap">
      <table class="heatTbl">
        <thead><tr><th>${heatMode === 'cluster' ? 'Cluster' : 'SÃ¤ule'}</th>${th}</tr></thead>
        <tbody>${rowsHtml}</tbody>
      </table>
      <div class="muted small" style="margin-top:6px;">Zahl = Anzahl Werte pro Scoreâ€‘Bucket (Top ${limit} nach HÃ¤ufigkeit).</div>
    </div>
  `;
}

function renderMarketContext(rows, presetRows) {
  if (!elMarketPanel) return;
  renderBreadth(rows);
  renderDiversification(rows);
  renderQualityPanel(presetRows || rows);
  renderMovers(rows);
  renderHeatmap(rows);
}


    function render(rows) {
      tbody.innerHTML = '';
      const frag = document.createDocumentFragment();

      for (const r of rows) {
        const tr = document.createElement('tr');

        const tRaw = normStr(r.ticker);
        const isC = asBool(r.is_crypto) === true;

        const disp = pickDisplaySymbol(r);
        const yh = pickYahooSymbol(r) || disp;
        const href = yahooHref(yh);

        const isinRaw = normStr(r.isin);
        const isin = (!isC) ? (isinRaw || (looksLikeISIN(tRaw) ? tRaw : '')) : '';

        const curr = normStr(r.quote_currency) || normStr(r.currency) || normStr(r["WÃ¤hrung"]);
        const currChip = curr ? `<span class="tinychip" title="WÃ¤hrung">${esc(curr)}</span>` : '';

        const main = href ? `<a class="yf" href="${href}" target="_blank" rel="noopener">${esc(disp)}</a>` : esc(disp);
        // subline for the left "Symbol/ISIN" cell: for crypto show the Yahoo pair (e.g. BTC-USD),
        // for stocks show ISIN. Use a distinct variable name so we don't collide with other "sub" vars.
        const subTicker = isC ? (yh || 'â€”') : (isin || 'â€”');
        const subLabel = isC ? 'YahooSymbol' : 'ISIN';
        const subLine = `<div class="sub mono" title="${subLabel}">${esc(subTicker)}</div>`;
        const tCell = `<div class="tickerCell"><div class="tickerMain">${main}${currChip}</div>${subLine}</div>`;

        const n = normStr(r.name);

        // Official taxonomy (prefer industry, fallback sector). Manual fantasy sectors are not shown here.
        const sectorOfficial = normStr(r.sector) || normStr(r.Sector);
        const industryOfficial = normStr(r.industry) || normStr(r.Industry) || normStr(r.cluster_official);

        // Private pillars (5-sÃ¤ulen + playground) are metadata only (never affect scoring)
        // Use UI fallback derivation so older universes still show the concept.
        const pillar = pillarLabel(r);
        const bucketType = normStr(r.bucket_type);

        let taxLabel = '';
        let taxTitle = '';
        if (asBool(r.is_crypto)) {
          taxLabel = 'Krypto';
          taxTitle = 'Assetklasse (Krypto)';
        } else if (industryOfficial) {
          taxLabel = industryOfficial;
          taxTitle = 'Industrie (offiziell, Yahoo)';
        } else if (sectorOfficial) {
          taxLabel = sectorOfficial;
          taxTitle = 'Sektor (offiziell, Yahoo)';
        }

        const ctry = normStr(r.country);
        const subParts = [];
        if (taxLabel) subParts.push(`<span title="${esc(taxTitle)}">${esc(taxLabel)}</span>`);
        if (pillar) subParts.push(`<span class="muted" title="SÃ¤ule (privat, Metadaten)">SÃ¤ule: ${esc(pillar)}</span>`);
        if (bucketType && bucketType !== 'pillar' && bucketType !== 'none') subParts.push(`<span class="muted" title="Bucket-Type (privat)">(${esc(bucketType)})</span>`);
        if (ctry) subParts.push(esc(ctry));
        const subName = subParts.join(' Â· ');

        const price = asNum(r.price) ?? asNum(r["Akt. Kurs"]);
        const perf = asNum(r.perf_pct) ?? asNum(r["Perf %"]);
        const priceMain = (price === null) ? 'â€”' : `${fmtPrice(price)}${curr ? ' ' + esc(curr) : ''}`;
        const pCell = `<div class="priceCell"><div class="priceMain">${priceMain}</div>${perfLine(perf)}</div>`;

        const trend = asBool(r.trend_ok) ? chip('OK', 'good') : chip('NO', 'bad');
        const liq = asBool(r.liquidity_ok) ? chip('OK', 'good') : chip('LOW', 'warn');

        const status = normStr(r.score_status);
        let statusKind = 'blue';
        if (status === 'OK') statusKind = 'good';
        if (status.startsWith('AVOID')) statusKind = 'warn';
        if (status === 'ERROR' || status === 'NA') statusKind = 'bad';

        const cls = asBool(r.is_crypto) ? chip('Krypto', 'warn') : chip('Aktie', 'blue');

        tr.innerHTML = `
          <td class="mono">${tCell}</td>
          <td>
            <div class="row-title">
              <div class="name">${n}</div>
              <div class="sub">${subName || ''}</div>
            </div>
          </td>
          <td class="right">${pCell}</td>
          <td>${scoreCell(r)}</td>
          <td class="hide-sm right mono">${(asNum(r.confidence) ?? 0).toFixed(1)}</td>
          <td class="hide-sm right mono">${(asNum(r.cycle) ?? 0).toFixed(0)}%</td>
          <td>${trend}</td>
          <td>${liq}</td>
          <td>${chip(status || 'â€”', statusKind)}</td>
          <td class="hide-sm">${cls}</td>
        `;

        const a = tr.querySelector('a.yf');
        if (a) {
          a.addEventListener('click', (e) => { e.stopPropagation(); });
        }

        tr.style.cursor = 'pointer';
        tr.addEventListener('click', () => openDrawer(r));

        frag.appendChild(tr);
      }

      tbody.appendChild(frag);
    }

    function closeDrawer() {
      drawerOverlay.classList.remove('show');
      drawerOverlay.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    }

    function openDrawer(r) {
      const t = pickDisplayTicker(r) || normStr(r.ticker);
      const n = normStr(r.name);
      drawerTitle.textContent = `${t} â€” ${n}`.trim();
      const sectorOfficial = normStr(r.sector) || normStr(r.Sector);
      const categoryManual = normStr(r.category) || normStr(r.Sektor) || normStr(r.Kategorie);
      const cat = asBool(r.is_crypto) ? 'Krypto' : (categoryManual ? `Cluster: ${categoryManual}` : (sectorOfficial || ''));
      const curr = normStr(r.quote_currency) || normStr(r.currency) || normStr(r["WÃ¤hrung"]);
      const sub = [cat, normStr(r.country), curr, normStr(r.isin)].filter(Boolean).join(' Â· ');
      drawerSub.textContent = sub || '';

      // Quick action: open on Yahoo Finance if we can determine a valid symbol
      if (drawerActions) {
        const sym = pickYahooSymbol(r);
        const href = yahooHref(sym);
        drawerActions.innerHTML = href ? `<a class="btn" href="${href}" target="_blank" rel="noopener" title="Auf Yahoo Finance Ã¶ffnen">Yahoo</a>` : '';
      }

      const items = [
        ['Score', (asNum(r.score) ?? 0).toFixed(2)],
        ['Confidence', (asNum(r.confidence) ?? 0).toFixed(1)],
        ['Cycle', `${(asNum(r.cycle) ?? 0).toFixed(0)}%`],
        ['ScoreStatus', normStr(r.score_status) || 'â€”'],
        ['Trend OK', String(asBool(r.trend_ok))],
        ['Liquidity OK', String(asBool(r.liquidity_ok))],
        ['AssetClass', asBool(r.is_crypto) ? 'Krypto' : 'Aktie'],
      ];

      // optional interesting fields
      const opt = [
        ['Price', r.price],
        ['Currency', curr],
        ['Perf %', fmtPct(asNum(r.perf_pct) ?? asNum(r["Perf %"]))],
        ['DiversPenalty', (asNum(r.diversification_penalty) ?? 0).toFixed(2)],
        ['RS3M', r.rs3m],
        ['CRV', r.crv],
        ['MC Chance', r.mc_chance],
        ['Elliott', r.elliott_signal],
        ['CycleStatus', r.cycle_status],
        ['DollarVolume', r.dollar_volume],
        ['Volatility', fmtRatioPct(r.volatility)],
        ['MaxDrawdown', fmtRatioPct(r.max_drawdown)],
        ['Trend200', fmtRatioPct(r.trend200)],
        ['MarketDate', r.market_date],
      ];
      for (const [k, v] of opt) {
        const s = normStr(v);
        if (s) items.push([k, s]);
      }

      const status = normStr(r.score_status);
      const why = [];
      if (status === 'OK') why.push('Score>0 & keine harten Filter verletzt.');
      if (status === 'AVOID_CRYPTO_BEAR') why.push('Crypto im Bear-Trend â†’ Score=0 (bewusstes Avoid).');
      if (status === 'AVOID') why.push('Score==0 â†’ Avoid (non-crypto).');
      if (status === 'NA') why.push('Zu wenig / nicht konsistente Daten â†’ NA.');
      if (status === 'ERROR') why.push('Scoring hat einen Fehler gemeldet (ScoreError).');
      if (asBool(r.trend_ok) === false) why.push('Trend-Filter: trend_ok=false.');
      if (asBool(r.liquidity_ok) === false) why.push('Liquidity-Filter: liquidity_ok=false.');
      const dpen = asNum(r.diversification_penalty);
      if (dpen !== null && dpen >= 6) why.push(`Diversifikations-Penalty hoch (${dpen.toFixed(2)}): Setup ist im aktuellen Universum eher klumpig.`);
      if (why.length === 0) why.push('Noch kein detaillierter Factor-Breakdown (kommt in Phase B3).');

      drawerBody.innerHTML = `
        <div class="kv">
          ${items.map(([k,v]) => `<div class="k">${esc(k)}</div><div class="v">${esc(v)}</div>`).join('')}
        </div>
        <div class="why">
          <div style="font-weight:700; margin-top: 12px;">Why Score</div>
          <ul>
            ${why.map(x => `<li>${esc(x)}</li>`).join('')}
          </ul>
        </div>
      `;

      drawerOverlay.classList.add('show');
      drawerOverlay.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function refresh() {
      const base = DATA;
      const {rows: presetRows, preset} = applyPreset(base, activePreset);

      const q = elSearch.value;
      let rowsSQ = applySearch(presetRows, q);
      rowsSQ = applyQuickFilters(rowsSQ);

      // cluster counts reflect the current universe (after Preset+Search+Quick)
      const cc = computeClusterCounts(rowsSQ);
      renderClusterOptions(cc);
      renderClusterChips(cc);

      // pillar counts (5-sÃ¤ulen + playground) reflect the same universe
      const pc = computePillarCounts(rowsSQ);
      renderPillarOptions(pc);
      renderPillarChips(pc);

      // cluster + pillar filters (string)
      let rows = applyClusterFilter(rowsSQ);
      rows = applyPillarFilter(rows);

      // matrix counts always reflect the current (pre-matrix) universe (after cluster filter)
      renderMatrix(rows);
      renderMarketContext(rows, presetRows);

      // matrix filter (if active)
      rows = applyMatrixFilter(rows);

      // user override sort
      if (userSort && userSort.k) {
        rows = rows.slice().sort(compareBy([userSort]));
      }

      render(rows);
      renderKpis(base, rows);
      const f = [];
      if (quick.hideAvoid) f.push('hideAvoid');
      if (quick.onlyOK) f.push('onlyOK');
      if (quick.trendOK) f.push('trendOK');
      if (quick.liqOK) f.push('liqOK');
      if (quick.onlyStock) f.push('stock');
      if (quick.onlyCrypto) f.push('crypto');
      if (matrix && matrix.sb !== null && matrix.rb !== null) f.push(`matrix:${matrix.sb}x${matrix.rb}`);
      if (clusterPick) f.push(`cluster:${clusterPick}`);
      if (pillarPick) f.push(`pillar:${pillarPick}`);
      if (pillarPick) f.push(`pillar:${pillarPick}`);

      elCount.textContent = `${rows.length} / ${base.length}` + (f.length ? `  Â·  filters: ${f.join(',')}` : '');
      if (btnMatrixClear) btnMatrixClear.disabled = !(matrix && matrix.sb !== null && matrix.rb !== null);

      const override = userSort ? ` | override: ${userSort.k}:${userSort.dir}` : '';
      elSortHint.textContent = `preset: ${presetLabel(activePreset)}${override}`;
    }

    // ---- init ----
    const PRESET_LABELS = {
      CORE: 'Ãœbersicht',
      SCORED: 'Bewertet',
      TOP: 'Top',
      TOP_RELAXED: 'Top (entspannt)',
      AVOID: 'Vermeiden',
      BROKEN: 'Fehler/NA',
    };

    function presetLabel(key) {
      return PRESET_LABELS[key] || key;
    }

    function initPresets() {
      if (elPreset) elPreset.innerHTML = '';
      const names = Object.keys(PRESETS);
      // keep CORE first if present
      names.sort((a,b) => (a === 'CORE' ? -1 : b === 'CORE' ? 1 : a.localeCompare(b)));

      for (const n of names) {
        const opt = document.createElement('option');
        opt.value = n;
        const desc = (PRESETS[n].description || '').toString();
        opt.textContent = `${presetLabel(n)} (${n})` + (desc ? ` â€” ${desc}` : '');
        elPreset.appendChild(opt);
      }
      elPreset.value = activePreset;
    }

    initPresets();
    // quick filters
    const filterBar = document.getElementById('filters');
    if (filterBar) {
      filterBar.querySelectorAll('button.fbtn').forEach(btn => {
        btn.addEventListener('click', () => {
          const k = btn.getAttribute('data-f');
          if (!k) return;

          if (k === 'reset') {
            resetAll();
            return;
          } else if (k === 'resetSort') {
            userSort = null;
            refresh();
            saveState();
            return;
          } else if (k === 'onlyCrypto') {
            quick.onlyCrypto = !quick.onlyCrypto;
            if (quick.onlyCrypto) quick.onlyStock = false;
          } else if (k === 'onlyStock') {
            quick.onlyStock = !quick.onlyStock;
            if (quick.onlyStock) quick.onlyCrypto = false;
          } else {
            quick[k] = !quick[k];
          }

          syncFilterButtons();
          refresh();
          saveState();
        });
      });
    }
    syncFilterButtons();

    // cluster select wiring
    if (elClusterSel) {
      elClusterSel.addEventListener('change', () => {
        clusterPick = elClusterSel.value || '';
        refresh();
        saveState();
      });
    }

    // pillar select wiring
    if (elPillarSel) {
      elPillarSel.addEventListener('change', () => {
        pillarPick = elPillarSel.value || '';
        refresh();
        saveState();
      });
    }
    if (elClusters) {
      elClusters.addEventListener('click', (ev) => {
        const t = ev.target;
        if (!(t instanceof HTMLElement)) return;
        const clr = t.getAttribute('data-clr');
        if (clr) {
          clusterPick = '';
          if (elClusterSel) elClusterSel.value = '';
          refresh();
          saveState();
          return;
        }
        const cl = t.getAttribute('data-cl');
        if (!cl) return;
        clusterPick = cl;
        if (elClusterSel) elClusterSel.value = cl;
        refresh();
        saveState();
      });
    }

    if (elPillars) {
      elPillars.addEventListener('click', (ev) => {
        const t = ev.target;
        if (!(t instanceof HTMLElement)) return;
        const pr = t.getAttribute('data-pr');
        if (pr) {
          pillarPick = '';
          if (elPillarSel) elPillarSel.value = '';
          refresh();
          saveState();
          return;
        }
        const p = t.getAttribute('data-p');
        if (!p) return;
        pillarPick = p;
        if (elPillarSel) elPillarSel.value = p;
        refresh();
        saveState();
      });
    }

    if (btnMatrixClear) {
      btnMatrixClear.addEventListener('click', () => {
        matrix = Object.assign({}, DEFAULT_MATRIX);
        refresh();
        saveState();
      });
    }

    // info popover wiring
    if (infoFlow && infoPopover) {
      infoFlow.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleInfoPopover();
      });
      if (infoClose) {
        infoClose.addEventListener('click', (e) => {
          e.stopPropagation();
          closeInfoPopover();
        });
      }
      document.addEventListener('click', (e) => {
        if (!infoPopover.classList.contains('show')) return;
        const t = e.target;
        if (t === infoFlow || infoFlow.contains(t) || infoPopover.contains(t)) return;
        closeInfoPopover();
      });
      window.addEventListener('resize', () => closeInfoPopover());
      window.addEventListener('scroll', () => closeInfoPopover(), true);
    }
    if (elBriefing) {
      const t = normStr((BRIEFING || {}).text);
      elBriefing.innerHTML = briefingToHtml(t) || 'â€” (noch kein Briefing generiert)';
    }
    refresh();
    try { document.documentElement.dataset.jsok = '1'; } catch (e) {}

    drawerClose.addEventListener('click', closeDrawer);
    drawerOverlay.addEventListener('click', (e) => {
      if (e.target === drawerOverlay) closeDrawer();
    });

    elPreset.addEventListener('change', () => {
      activePreset = elPreset.value;
      userSort = null;
      refresh();
      saveState();
    });

    let _searchTimer = null;
    elSearch.addEventListener('input', () => {
      if (_searchTimer) clearTimeout(_searchTimer);
      _searchTimer = setTimeout(() => {
        refresh();
        saveState();
      }, 80);
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (infoPopover && infoPopover.classList.contains('show')) {
          closeInfoPopover();
          return;
        }
        if (drawerOverlay.classList.contains('show')) {
          closeDrawer();
        } else {
          elSearch.value = '';
          refresh();
          saveState();
        }
      }
    });

    // header click sort
    document.querySelectorAll('#tbl thead th').forEach(th => {
      th.addEventListener('click', () => {
        const k = th.getAttribute('data-k');
        if (!k) return;
        if (!userSort || userSort.k !== k) {
          userSort = {k, dir: 'desc'};
        } else {
          userSort.dir = (userSort.dir === 'desc') ? 'asc' : 'desc';
        }
        refresh();
        saveState();
      });
    });
    } catch (err) {
      const msg = (err && err.message) ? err.message : String(err);
      const el = document.getElementById('count');
      if (window.__showJsError) window.__showJsError('UIâ€‘Fehler (JS): ' + msg);
      if (el) el.textContent = `JS error: ${msg}`;
      const k = document.getElementById('kpis');
      if (k) k.textContent = 'JS error â€“ siehe Konsole';
      try { console.error(err); } catch(e) {}
    }
  })();
  </script>
</body>
</html>
